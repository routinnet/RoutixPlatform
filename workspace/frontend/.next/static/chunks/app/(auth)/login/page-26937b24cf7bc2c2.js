(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[665],{5011:function(e,t,a){Promise.resolve().then(a.bind(a,8931))},8931:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var r=a(7437),s=a(2265),n=a(4539),i=a(3907),o=a(8145),l=a(9581),c=a(7651),u=a(7019),d=a(5733),p=a(7138);function m(){let{login:e}=(0,c.a)(),[t,a]=(0,s.useState)(!1),[m,h]=(0,s.useState)(!1),[g,x]=(0,s.useState)({username:"",password:""}),v=async t=>{if(t.preventDefault(),g.username&&g.password){a(!0);try{await e(g.username,g.password)}catch(e){}finally{a(!1)}}};return(0,r.jsxs)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-main p-4",children:[(0,r.jsxs)("div",{className:"fixed inset-0 -z-10 overflow-hidden pointer-events-none",children:[(0,r.jsx)(n.E.div,{className:"absolute w-96 h-96 bg-purple-300/30 rounded-full blur-3xl",animate:{x:[0,100,0],y:[0,-100,0]},transition:{duration:20,repeat:1/0,ease:"linear"},style:{top:"10%",left:"20%"}}),(0,r.jsx)(n.E.div,{className:"absolute w-96 h-96 bg-blue-300/30 rounded-full blur-3xl",animate:{x:[0,-100,0],y:[0,100,0]},transition:{duration:25,repeat:1/0,ease:"linear"},style:{bottom:"10%",right:"20%"}})]}),(0,r.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:[(0,r.jsx)("div",{className:"flex justify-center mb-8",children:(0,r.jsx)(n.E.div,{initial:{scale:.8},animate:{scale:1},transition:{delay:.1},className:"w-20 h-20 rounded-3xl bg-white/80 backdrop-blur-xl shadow-lg flex items-center justify-center",children:(0,r.jsx)(l.T,{})})}),(0,r.jsx)(i.W,{className:"p-8",children:(0,r.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-text-primary mb-2 text-center",children:"Welcome Back"}),(0,r.jsx)("p",{className:"text-text-secondary text-center mb-8",children:"Sign in to continue to Routix"}),(0,r.jsxs)("form",{onSubmit:v,className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Username"}),(0,r.jsx)("input",{type:"text",value:g.username,onChange:e=>x({...g,username:e.target.value}),className:"w-full px-4 py-3 rounded-xl glass border-0 focus:ring-2 focus:ring-routix-purple text-text-primary placeholder:text-text-muted bg-white/20 backdrop-blur-xl",placeholder:"Enter your username",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Password"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:m?"text":"password",value:g.password,onChange:e=>x({...g,password:e.target.value}),className:"w-full px-4 py-3 pr-12 rounded-xl glass border-0 focus:ring-2 focus:ring-routix-purple text-text-primary placeholder:text-text-muted bg-white/20 backdrop-blur-xl",placeholder:"Enter your password",required:!0}),(0,r.jsx)("button",{type:"button",onClick:()=>h(!m),className:"absolute right-3 top-1/2 -translate-y-1/2 p-1 rounded-lg hover:bg-white/20 transition-colors",children:m?(0,r.jsx)(u.Z,{className:"w-5 h-5 text-text-muted"}):(0,r.jsx)(d.Z,{className:"w-5 h-5 text-text-muted"})})]})]}),(0,r.jsx)(o.O,{type:"submit",loading:t,className:"w-full",disabled:!g.username||!g.password,children:"Sign In"})]}),(0,r.jsxs)("p",{className:"text-center text-text-secondary mt-6",children:["Don't have an account?"," ",(0,r.jsx)(p.default,{href:"/register",className:"text-routix-purple hover:text-routix-purple-light font-semibold transition-colors",children:"Sign up"})]})]})})]})]})}},3907:function(e,t,a){"use strict";a.d(t,{W:function(){return i}});var r=a(7437),s=a(7440),n=a(4539);function i(e){let{children:t,className:a,hover:i=!1,...o}=e;return(0,r.jsx)(n.E.div,{className:(0,s.cn)("glass rounded-3xl shadow-glass",i&&"hover:shadow-glass-hover hover:scale-[1.01] cursor-pointer",a),...o,children:t})}},8145:function(e,t,a){"use strict";a.d(t,{O:function(){return o}});var r=a(7437),s=a(4539),n=a(7440),i=a(4109);function o(e){let{children:t,className:a,loading:o=!1,variant:l="primary",disabled:c,...u}=e;return(0,r.jsx)(s.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:(0,n.cn)("relative px-6 py-3 rounded-2xl font-semibold text-white","shadow-button transition-all duration-200","disabled:opacity-50 disabled:cursor-not-allowed","primary"===l&&"bg-gradient-purple hover:shadow-button-hover","secondary"===l&&"bg-gradient-blue hover:shadow-button-hover",a),disabled:c||o,...u,children:o?(0,r.jsxs)("span",{className:"flex items-center justify-center",children:[(0,r.jsx)(i.Z,{className:"w-5 h-5 animate-spin mr-2"}),"Loading..."]}):t})}},9581:function(e,t,a){"use strict";a.d(t,{T:function(){return s}});var r=a(7437);function s(e){let{className:t="w-12 h-12"}=e;return(0,r.jsx)("svg",{className:t,viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"font-bold fill-routix-purple",fontSize:"48",children:"RK"})})}},6264:function(e,t,a){"use strict";a.d(t,{x:function(){return i}});var r=a(8472),s=a(7776);let n=r.Z.create({baseURL:"http://localhost:8000",headers:{"Content-Type":"application/json"},timeout:3e4});n.interceptors.request.use(e=>{let t=localStorage.getItem("access_token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),n.interceptors.response.use(e=>e,async e=>{var t,a,i;let o=e.config;if((null===(t=e.response)||void 0===t?void 0:t.status)===401&&!o._retry){o._retry=!0;try{let e=localStorage.getItem("refresh_token"),{data:t}=await r.Z.post("".concat("http://localhost:8000","/api/v1/auth/refresh"),{refresh_token:e});return localStorage.setItem("access_token",t.access_token),n.defaults.headers.common.Authorization="Bearer ".concat(t.access_token),n(o)}catch(e){return localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.href="/login",Promise.reject(e)}}let l=(null===(i=e.response)||void 0===i?void 0:null===(a=i.data)||void 0===a?void 0:a.detail)||e.message||"An error occurred";return s.Am.error(l),Promise.reject(e)});let i={register:e=>n.post("/api/v1/users/register",e),login:e=>n.post("/api/v1/users/login",e),getProfile:()=>n.get("/api/v1/users/profile"),updateProfile:e=>n.put("/api/v1/users/profile",e),getCredits:()=>n.get("/api/v1/users/credits"),getConversations:()=>n.get("/api/v1/chat/conversations"),createConversation:()=>n.post("/api/v1/chat/conversations"),getMessages:e=>n.get("/api/v1/chat/conversations/".concat(e,"/messages")),sendMessage:(e,t)=>n.post("/api/v1/chat/conversations/".concat(e,"/messages"),t),getAlgorithms:()=>n.get("/api/v1/generation/algorithms"),createGeneration:e=>n.post("/api/v1/generation/create",e),getGenerationStatus:e=>n.get("/api/v1/generation/".concat(e,"/status")),getGenerationResult:e=>n.get("/api/v1/generation/".concat(e,"/result")),getHistory:e=>n.get("/api/v1/generations/user",{params:e}),uploadTemplate:e=>n.post("/api/v1/templates/upload",e,{headers:{"Content-Type":"multipart/form-data"}}),getTemplates:e=>n.get("/api/v1/templates",{params:e}),searchTemplates:e=>n.get("/api/v1/templates/search",{params:{query:e}}),deleteTemplate:e=>n.delete("/api/v1/templates/".concat(e)),updateTemplate:(e,t)=>n.put("/api/v1/templates/".concat(e),t),downloadGeneration:e=>n.get("/api/v1/generations/".concat(e,"/download"),{responseType:"blob"}),shareGeneration:(e,t)=>n.post("/api/v1/generations/".concat(e,"/share"),t),favoriteGeneration:e=>n.post("/api/v1/generations/".concat(e,"/favorite")),unfavoriteGeneration:e=>n.delete("/api/v1/generations/".concat(e,"/favorite")),deleteGeneration:e=>n.delete("/api/v1/generations/".concat(e)),getAdminStats:()=>n.get("/api/v1/admin/stats"),getUsers:e=>n.get("/api/v1/admin/users",{params:e}),updateUser:(e,t)=>n.put("/api/v1/admin/users/".concat(e),t),getAnalytics:e=>n.get("/api/v1/admin/analytics",{params:e}),getRecentActivity:()=>n.get("/api/v1/admin/activity")}},7651:function(e,t,a){"use strict";a.d(t,{AuthProvider:function(){return c},a:function(){return u},i:function(){return d}});var r=a(7437),s=a(2265),n=a(6463),i=a(6264),o=a(7776);let l=(0,s.createContext)(null);function c(e){let{children:t}=e,[a,c]=(0,s.useState)(null),[u,d]=(0,s.useState)(!0),p=(0,n.useRouter)();(0,s.useEffect)(()=>{localStorage.getItem("access_token")?x():d(!1)},[]);let m=async(e,t)=>{try{let{data:a}=await i.x.login({username:e,password:t});localStorage.setItem("access_token",a.access_token),localStorage.setItem("refresh_token",a.refresh_token),await x(),o.Am.success("Welcome back!"),p.push("/chat")}catch(e){var a,r;throw o.Am.error((null===(r=e.response)||void 0===r?void 0:null===(a=r.data)||void 0===a?void 0:a.detail)||"Login failed"),e}},h=async e=>{try{await i.x.register(e),o.Am.success("Account created successfully! Please log in."),p.push("/login")}catch(e){var t,a;throw o.Am.error((null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.detail)||"Registration failed"),e}},g=()=>{localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),c(null),p.push("/login"),o.Am.success("Logged out successfully")},x=async()=>{try{let{data:e}=await i.x.getProfile();c(e)}catch(e){g()}finally{d(!1)}};return(0,r.jsx)(l.Provider,{value:{user:a,loading:u,login:m,register:h,logout:g,refreshUser:x},children:t})}function u(){let e=(0,s.useContext)(l);if(!e)throw Error("useAuth must be used within AuthProvider");return e}function d(e){let{children:t}=e,{user:a,loading:i}=u(),o=(0,n.useRouter)();return((0,s.useEffect)(()=>{i||a||o.push("/login")},[a,i,o]),i)?(0,r.jsx)("div",{className:"min-h-screen bg-gradient-main flex items-center justify-center",children:(0,r.jsx)("div",{className:"w-16 h-16 rounded-3xl bg-white/80 backdrop-blur-xl shadow-lg flex items-center justify-center animate-pulse",children:(0,r.jsx)("div",{className:"w-8 h-8 bg-routix-purple/20 rounded-xl"})})}):a?(0,r.jsx)(r.Fragment,{children:t}):null}},7440:function(e,t,a){"use strict";a.d(t,{cn:function(){return n}});var r=a(4839),s=a(6164);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.m6)((0,r.W)(t))}},7019:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(1066).Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},5733:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(1066).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},4109:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(1066).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])}},function(e){e.O(0,[341,314,291,971,23,744],function(){return e(e.s=5011)}),_N_E=e.O()}]);