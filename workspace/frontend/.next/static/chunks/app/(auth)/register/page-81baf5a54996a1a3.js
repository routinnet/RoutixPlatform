(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[566],{5856:function(e,t,s){Promise.resolve().then(s.bind(s,2781))},2781:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return h}});var a=s(7437),r=s(2265),n=s(4539),i=s(3907),l=s(8145),o=s(9581),c=s(7651),u=s(7019),d=s(5733),m=s(2468),p=s(4697),x=s(7138);function h(){let{register:e}=(0,c.a)(),[t,s]=(0,r.useState)(!1),[h,g]=(0,r.useState)(!1),[f,v]=(0,r.useState)(!1),[y,w]=(0,r.useState)({username:"",email:"",password:"",confirmPassword:""}),b={length:y.password.length>=8,uppercase:/[A-Z]/.test(y.password),lowercase:/[a-z]/.test(y.password),number:/\d/.test(y.password)},j=Object.values(b).every(Boolean),N=y.password===y.confirmPassword&&y.confirmPassword.length>0,k=async t=>{if(t.preventDefault(),j&&N){s(!0);try{await e({username:y.username,email:y.email,password:y.password})}catch(e){}finally{s(!1)}}};return(0,a.jsxs)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-main p-4",children:[(0,a.jsxs)("div",{className:"fixed inset-0 -z-10 overflow-hidden pointer-events-none",children:[(0,a.jsx)(n.E.div,{className:"absolute w-96 h-96 bg-purple-300/30 rounded-full blur-3xl",animate:{x:[0,100,0],y:[0,-100,0]},transition:{duration:20,repeat:1/0,ease:"linear"},style:{top:"10%",left:"20%"}}),(0,a.jsx)(n.E.div,{className:"absolute w-96 h-96 bg-blue-300/30 rounded-full blur-3xl",animate:{x:[0,-100,0],y:[0,100,0]},transition:{duration:25,repeat:1/0,ease:"linear"},style:{bottom:"10%",right:"20%"}})]}),(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:[(0,a.jsx)("div",{className:"flex justify-center mb-8",children:(0,a.jsx)(n.E.div,{initial:{scale:.8},animate:{scale:1},transition:{delay:.1},className:"w-20 h-20 rounded-3xl bg-white/80 backdrop-blur-xl shadow-lg flex items-center justify-center",children:(0,a.jsx)(o.T,{})})}),(0,a.jsx)(i.W,{className:"p-8",children:(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-text-primary mb-2 text-center",children:"Join Routix"}),(0,a.jsx)("p",{className:"text-text-secondary text-center mb-8",children:"Create your account to start generating thumbnails"}),(0,a.jsxs)("form",{onSubmit:k,className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Username"}),(0,a.jsx)("input",{type:"text",value:y.username,onChange:e=>w({...y,username:e.target.value}),className:"w-full px-4 py-3 rounded-xl glass border-0 focus:ring-2 focus:ring-routix-purple text-text-primary placeholder:text-text-muted bg-white/20 backdrop-blur-xl",placeholder:"Choose a username",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Email"}),(0,a.jsx)("input",{type:"email",value:y.email,onChange:e=>w({...y,email:e.target.value}),className:"w-full px-4 py-3 rounded-xl glass border-0 focus:ring-2 focus:ring-routix-purple text-text-primary placeholder:text-text-muted bg-white/20 backdrop-blur-xl",placeholder:"Enter your email",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:h?"text":"password",value:y.password,onChange:e=>w({...y,password:e.target.value}),className:"w-full px-4 py-3 pr-12 rounded-xl glass border-0 focus:ring-2 focus:ring-routix-purple text-text-primary placeholder:text-text-muted bg-white/20 backdrop-blur-xl",placeholder:"Create a password",required:!0}),(0,a.jsx)("button",{type:"button",onClick:()=>g(!h),className:"absolute right-3 top-1/2 -translate-y-1/2 p-1 rounded-lg hover:bg-white/20 transition-colors",children:h?(0,a.jsx)(u.Z,{className:"w-5 h-5 text-text-muted"}):(0,a.jsx)(d.Z,{className:"w-5 h-5 text-text-muted"})})]}),y.password&&(0,a.jsxs)("div",{className:"mt-3 space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[b.length?(0,a.jsx)(m.Z,{className:"w-4 h-4 text-green-500"}):(0,a.jsx)(p.Z,{className:"w-4 h-4 text-red-500"}),(0,a.jsx)("span",{className:b.length?"text-green-600":"text-text-muted",children:"At least 8 characters"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[b.uppercase?(0,a.jsx)(m.Z,{className:"w-4 h-4 text-green-500"}):(0,a.jsx)(p.Z,{className:"w-4 h-4 text-red-500"}),(0,a.jsx)("span",{className:b.uppercase?"text-green-600":"text-text-muted",children:"One uppercase letter"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[b.number?(0,a.jsx)(m.Z,{className:"w-4 h-4 text-green-500"}):(0,a.jsx)(p.Z,{className:"w-4 h-4 text-red-500"}),(0,a.jsx)("span",{className:b.number?"text-green-600":"text-text-muted",children:"One number"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Confirm Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:f?"text":"password",value:y.confirmPassword,onChange:e=>w({...y,confirmPassword:e.target.value}),className:"w-full px-4 py-3 pr-12 rounded-xl glass border-0 focus:ring-2 focus:ring-routix-purple text-text-primary placeholder:text-text-muted bg-white/20 backdrop-blur-xl",placeholder:"Confirm your password",required:!0}),(0,a.jsx)("button",{type:"button",onClick:()=>v(!f),className:"absolute right-3 top-1/2 -translate-y-1/2 p-1 rounded-lg hover:bg-white/20 transition-colors",children:f?(0,a.jsx)(u.Z,{className:"w-5 h-5 text-text-muted"}):(0,a.jsx)(d.Z,{className:"w-5 h-5 text-text-muted"})})]}),y.confirmPassword&&(0,a.jsxs)("div",{className:"mt-2 flex items-center gap-2 text-sm",children:[N?(0,a.jsx)(m.Z,{className:"w-4 h-4 text-green-500"}):(0,a.jsx)(p.Z,{className:"w-4 h-4 text-red-500"}),(0,a.jsx)("span",{className:N?"text-green-600":"text-red-500",children:N?"Passwords match":"Passwords do not match"})]})]}),(0,a.jsx)(l.O,{type:"submit",loading:t,className:"w-full",disabled:!y.username||!y.email||!j||!N,children:"Create Account"})]}),(0,a.jsxs)("p",{className:"text-center text-text-secondary mt-6",children:["Already have an account?"," ",(0,a.jsx)(x.default,{href:"/login",className:"text-routix-purple hover:text-routix-purple-light font-semibold transition-colors",children:"Sign in"})]})]})})]})]})}},3907:function(e,t,s){"use strict";s.d(t,{W:function(){return i}});var a=s(7437),r=s(7440),n=s(4539);function i(e){let{children:t,className:s,hover:i=!1,...l}=e;return(0,a.jsx)(n.E.div,{className:(0,r.cn)("glass rounded-3xl shadow-glass",i&&"hover:shadow-glass-hover hover:scale-[1.01] cursor-pointer",s),...l,children:t})}},8145:function(e,t,s){"use strict";s.d(t,{O:function(){return l}});var a=s(7437),r=s(4539),n=s(7440),i=s(4109);function l(e){let{children:t,className:s,loading:l=!1,variant:o="primary",disabled:c,...u}=e;return(0,a.jsx)(r.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:(0,n.cn)("relative px-6 py-3 rounded-2xl font-semibold text-white","shadow-button transition-all duration-200","disabled:opacity-50 disabled:cursor-not-allowed","primary"===o&&"bg-gradient-purple hover:shadow-button-hover","secondary"===o&&"bg-gradient-blue hover:shadow-button-hover",s),disabled:c||l,...u,children:l?(0,a.jsxs)("span",{className:"flex items-center justify-center",children:[(0,a.jsx)(i.Z,{className:"w-5 h-5 animate-spin mr-2"}),"Loading..."]}):t})}},9581:function(e,t,s){"use strict";s.d(t,{T:function(){return r}});var a=s(7437);function r(e){let{className:t="w-12 h-12"}=e;return(0,a.jsx)("svg",{className:t,viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"font-bold fill-routix-purple",fontSize:"48",children:"RK"})})}},6264:function(e,t,s){"use strict";s.d(t,{x:function(){return i}});var a=s(8472),r=s(7776);let n=a.Z.create({baseURL:"http://localhost:8000",headers:{"Content-Type":"application/json"},timeout:3e4});n.interceptors.request.use(e=>{let t=localStorage.getItem("access_token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),n.interceptors.response.use(e=>e,async e=>{var t,s,i;let l=e.config;if((null===(t=e.response)||void 0===t?void 0:t.status)===401&&!l._retry){l._retry=!0;try{let e=localStorage.getItem("refresh_token"),{data:t}=await a.Z.post("".concat("http://localhost:8000","/api/v1/auth/refresh"),{refresh_token:e});return localStorage.setItem("access_token",t.access_token),n.defaults.headers.common.Authorization="Bearer ".concat(t.access_token),n(l)}catch(e){return localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.href="/login",Promise.reject(e)}}let o=(null===(i=e.response)||void 0===i?void 0:null===(s=i.data)||void 0===s?void 0:s.detail)||e.message||"An error occurred";return r.Am.error(o),Promise.reject(e)});let i={register:e=>n.post("/api/v1/users/register",e),login:e=>n.post("/api/v1/users/login",e),getProfile:()=>n.get("/api/v1/users/profile"),updateProfile:e=>n.put("/api/v1/users/profile",e),getCredits:()=>n.get("/api/v1/users/credits"),getConversations:()=>n.get("/api/v1/chat/conversations"),createConversation:()=>n.post("/api/v1/chat/conversations"),getMessages:e=>n.get("/api/v1/chat/conversations/".concat(e,"/messages")),sendMessage:(e,t)=>n.post("/api/v1/chat/conversations/".concat(e,"/messages"),t),getAlgorithms:()=>n.get("/api/v1/generation/algorithms"),createGeneration:e=>n.post("/api/v1/generation/create",e),getGenerationStatus:e=>n.get("/api/v1/generation/".concat(e,"/status")),getGenerationResult:e=>n.get("/api/v1/generation/".concat(e,"/result")),getHistory:e=>n.get("/api/v1/generations/user",{params:e}),uploadTemplate:e=>n.post("/api/v1/templates/upload",e,{headers:{"Content-Type":"multipart/form-data"}}),getTemplates:e=>n.get("/api/v1/templates",{params:e}),searchTemplates:e=>n.get("/api/v1/templates/search",{params:{query:e}}),deleteTemplate:e=>n.delete("/api/v1/templates/".concat(e)),updateTemplate:(e,t)=>n.put("/api/v1/templates/".concat(e),t),downloadGeneration:e=>n.get("/api/v1/generations/".concat(e,"/download"),{responseType:"blob"}),shareGeneration:(e,t)=>n.post("/api/v1/generations/".concat(e,"/share"),t),favoriteGeneration:e=>n.post("/api/v1/generations/".concat(e,"/favorite")),unfavoriteGeneration:e=>n.delete("/api/v1/generations/".concat(e,"/favorite")),deleteGeneration:e=>n.delete("/api/v1/generations/".concat(e)),getAdminStats:()=>n.get("/api/v1/admin/stats"),getUsers:e=>n.get("/api/v1/admin/users",{params:e}),updateUser:(e,t)=>n.put("/api/v1/admin/users/".concat(e),t),getAnalytics:e=>n.get("/api/v1/admin/analytics",{params:e}),getRecentActivity:()=>n.get("/api/v1/admin/activity")}},7651:function(e,t,s){"use strict";s.d(t,{AuthProvider:function(){return c},a:function(){return u},i:function(){return d}});var a=s(7437),r=s(2265),n=s(6463),i=s(6264),l=s(7776);let o=(0,r.createContext)(null);function c(e){let{children:t}=e,[s,c]=(0,r.useState)(null),[u,d]=(0,r.useState)(!0),m=(0,n.useRouter)();(0,r.useEffect)(()=>{localStorage.getItem("access_token")?g():d(!1)},[]);let p=async(e,t)=>{try{let{data:s}=await i.x.login({username:e,password:t});localStorage.setItem("access_token",s.access_token),localStorage.setItem("refresh_token",s.refresh_token),await g(),l.Am.success("Welcome back!"),m.push("/chat")}catch(e){var s,a;throw l.Am.error((null===(a=e.response)||void 0===a?void 0:null===(s=a.data)||void 0===s?void 0:s.detail)||"Login failed"),e}},x=async e=>{try{await i.x.register(e),l.Am.success("Account created successfully! Please log in."),m.push("/login")}catch(e){var t,s;throw l.Am.error((null===(s=e.response)||void 0===s?void 0:null===(t=s.data)||void 0===t?void 0:t.detail)||"Registration failed"),e}},h=()=>{localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),c(null),m.push("/login"),l.Am.success("Logged out successfully")},g=async()=>{try{let{data:e}=await i.x.getProfile();c(e)}catch(e){h()}finally{d(!1)}};return(0,a.jsx)(o.Provider,{value:{user:s,loading:u,login:p,register:x,logout:h,refreshUser:g},children:t})}function u(){let e=(0,r.useContext)(o);if(!e)throw Error("useAuth must be used within AuthProvider");return e}function d(e){let{children:t}=e,{user:s,loading:i}=u(),l=(0,n.useRouter)();return((0,r.useEffect)(()=>{i||s||l.push("/login")},[s,i,l]),i)?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-main flex items-center justify-center",children:(0,a.jsx)("div",{className:"w-16 h-16 rounded-3xl bg-white/80 backdrop-blur-xl shadow-lg flex items-center justify-center animate-pulse",children:(0,a.jsx)("div",{className:"w-8 h-8 bg-routix-purple/20 rounded-xl"})})}):s?(0,a.jsx)(a.Fragment,{children:t}):null}},7440:function(e,t,s){"use strict";s.d(t,{cn:function(){return n}});var a=s(4839),r=s(6164);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.m6)((0,a.W)(t))}},2468:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(1066).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},7019:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(1066).Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},5733:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(1066).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},4109:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(1066).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},4697:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(1066).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])}},function(e){e.O(0,[341,314,291,971,23,744],function(){return e(e.s=5856)}),_N_E=e.O()}]);