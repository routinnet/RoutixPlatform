(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[811],{6228:function(e,t,a){Promise.resolve().then(a.bind(a,8605))},8605:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return B}});var s=a(7437),l=a(2265),r=a(4539),i=a(7651),n=a(3907),o=a(5127),c=a(4388),d=a(5733),x=a(24),u=a(560),m=a(6706),h=a(883),p=a(933),g=a(4042),v=a(4241),b=a(8137),f=a(7776);function w(e){let{generation:t,onFavorite:a,onDownload:i,onShare:o,onRegenerate:w,onDelete:j,onPreview:y}=e,[N,k]=(0,l.useState)(!1),[C,S]=(0,l.useState)(!1),Z=async()=>{try{await i(t.id),f.Am.success("Download started!")}catch(e){f.Am.error("Download failed. Please try again.")}},_=async()=>{try{await o(t.id),f.Am.success("Sharing options opened!")}catch(e){f.Am.error("Share failed. Please try again.")}},A=async()=>{try{await a(t.id),f.Am.success(t.is_favorite?"Removed from favorites":"Added to favorites")}catch(e){f.Am.error("Failed to update favorite status")}};return(0,s.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-5},onHoverStart:()=>S(!0),onHoverEnd:()=>S(!1),className:"group relative",children:[(0,s.jsxs)(n.W,{className:"p-4 overflow-hidden",children:[(0,s.jsxs)("div",{className:"relative aspect-video bg-white/10 rounded-xl mb-4 overflow-hidden",children:[t.thumbnail_url?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("img",{src:t.thumbnail_url,alt:t.prompt,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",loading:"lazy"}),(0,s.jsxs)(r.E.div,{initial:{opacity:0},animate:{opacity:C?1:0},className:"absolute inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center gap-2",children:[(0,s.jsx)(r.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>y(t),className:"p-3 rounded-full bg-white/20 backdrop-blur-xl text-white hover:bg-white/30 transition-colors",children:(0,s.jsx)(d.Z,{className:"w-5 h-5"})}),(0,s.jsx)(r.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:Z,className:"p-3 rounded-full bg-white/20 backdrop-blur-xl text-white hover:bg-white/30 transition-colors",children:(0,s.jsx)(x.Z,{className:"w-5 h-5"})}),(0,s.jsx)(r.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:_,className:"p-3 rounded-full bg-white/20 backdrop-blur-xl text-white hover:bg-white/30 transition-colors",children:(0,s.jsx)(u.Z,{className:"w-5 h-5"})})]})]}):(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)("div",{className:"w-12 h-12 rounded-full bg-white/20 flex items-center justify-center mx-auto mb-2",children:["processing"===t.status&&(0,s.jsx)(m.Z,{className:"w-6 h-6 text-text-muted animate-spin"}),"failed"===t.status&&(0,s.jsx)(h.Z,{className:"w-6 h-6 text-red-500"}),"queued"===t.status&&(0,s.jsx)(p.Z,{className:"w-6 h-6 text-blue-500"})]}),(0,s.jsxs)("p",{className:"text-sm text-text-muted",children:["processing"===t.status&&"Generating...","failed"===t.status&&"Generation Failed","queued"===t.status&&"In Queue"]})]})}),(0,s.jsx)("div",{className:"absolute top-3 left-3",children:(0,s.jsx)(c.O,{status:t.status})}),(0,s.jsx)(r.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:A,className:"absolute top-3 right-3 p-2 rounded-full backdrop-blur-xl transition-colors ".concat(t.is_favorite?"bg-red-500/80 text-white":"bg-white/20 text-white hover:bg-white/30"),children:(0,s.jsx)(g.Z,{className:"w-4 h-4 ".concat(t.is_favorite?"fill-current":"")})})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("div",{children:(0,s.jsx)("p",{className:"text-text-primary font-medium line-clamp-2 text-sm leading-relaxed",children:t.prompt})}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-xs text-text-muted",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(v.Z,{className:"w-3 h-3"}),(0,s.jsx)("span",{children:new Date(t.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),t.processing_time&&(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(p.Z,{className:"w-3 h-3"}),(0,s.jsxs)("span",{children:[t.processing_time,"s"]})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-xs text-text-muted",children:[(0,s.jsxs)("span",{children:[t.download_count," downloads"]}),(0,s.jsxs)("span",{children:[t.share_count," shares"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(r.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:Z,disabled:"completed"!==t.status,className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded-xl bg-gradient-purple text-white disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-button-hover transition-all",children:[(0,s.jsx)(x.Z,{className:"w-4 h-4"}),(0,s.jsx)("span",{className:"text-sm font-medium",children:"Download"})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(r.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>k(!N),className:"p-2 rounded-xl bg-white/20 hover:bg-white/30 transition-colors text-text-primary",children:(0,s.jsx)(b.Z,{className:"w-4 h-4"})}),N&&(0,s.jsx)(r.E.div,{initial:{opacity:0,scale:.9,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:-10},className:"absolute right-0 top-full mt-2 w-48 z-50",children:(0,s.jsxs)(n.W,{className:"p-2",children:[(0,s.jsxs)("button",{onClick:()=>{_(),k(!1)},className:"w-full flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-white/20 transition-colors text-text-primary",children:[(0,s.jsx)(u.Z,{className:"w-4 h-4"}),(0,s.jsx)("span",{className:"text-sm",children:"Share"})]}),(0,s.jsxs)("button",{onClick:()=>{w(t.id),k(!1)},disabled:"processing"===t.status,className:"w-full flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-white/20 transition-colors text-text-primary disabled:opacity-50",children:[(0,s.jsx)(m.Z,{className:"w-4 h-4"}),(0,s.jsx)("span",{className:"text-sm",children:"Regenerate"})]}),(0,s.jsxs)("button",{onClick:()=>{j(t.id),k(!1)},className:"w-full flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-red-500/20 transition-colors text-red-600",children:[(0,s.jsx)(h.Z,{className:"w-4 h-4"}),(0,s.jsx)("span",{className:"text-sm",children:"Delete"})]})]})})]})]})]})]}),N&&(0,s.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>k(!1)})]})}var j=a(8145),y=a(8604),N=a(4109),k=a(4775),C=a(5574);function S(e){let{generations:t,loading:a,hasMore:i,onLoadMore:c,onFavorite:d,onDownload:x,onShare:u,onRegenerate:m,onDelete:h,onPreview:p,viewMode:g="grid"}=e,[v,b]=(0,l.useState)(new Set),[f,S]=(0,l.useState)(!1),Z=(0,l.useRef)(null);(0,l.useEffect)(()=>{let e=new IntersectionObserver(e=>{e[0].isIntersecting&&i&&!a&&c()},{threshold:.1});return Z.current&&e.observe(Z.current),()=>e.disconnect()},[i,a,c]);let _=e=>{let t=new Set(v);t.has(e)?t.delete(e):t.add(e),b(t)},A=()=>{b(new Set),S(!1)},E=async()=>{for(let e of t.filter(e=>v.has(e.id)))await x(e.id);A()},T=async()=>{if(confirm("Delete ".concat(v.size," selected items?"))){for(let e of Array.from(v))await h(e);A()}};return 0!==t.length||a?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)(o.M,{children:f&&(0,s.jsx)(r.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:(0,s.jsx)(n.W,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("span",{className:"text-text-primary font-medium",children:[v.size," selected"]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("button",{onClick:()=>{b(new Set(t.map(e=>e.id)))},className:"px-3 py-1 text-sm rounded-lg bg-white/20 hover:bg-white/30 transition-colors text-text-primary",children:"Select All"}),(0,s.jsx)("button",{onClick:A,className:"px-3 py-1 text-sm rounded-lg bg-white/20 hover:bg-white/30 transition-colors text-text-primary",children:"Clear"})]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(j.O,{onClick:E,disabled:0===v.size,className:"px-4 py-2",children:"Download Selected"}),(0,s.jsx)("button",{onClick:T,disabled:0===v.size,className:"px-4 py-2 rounded-xl bg-red-500/20 hover:bg-red-500/30 transition-colors text-red-600 disabled:opacity-50",children:"Delete Selected"})]})]})})})}),(0,s.jsx)("div",{className:(()=>{switch(g){case"masonry":return"columns-1 md:columns-2 lg:columns-3 xl:columns-4 gap-6 space-y-6";case"list":return"space-y-4";default:return"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"}})(),children:(0,s.jsx)(o.M,{children:t.map((e,t)=>(0,s.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.8},transition:{delay:.05*t},className:"relative ".concat("masonry"===g?"break-inside-avoid mb-6":""),children:[f&&(0,s.jsx)("div",{className:"absolute inset-0 z-10 cursor-pointer",onClick:()=>_(e.id),children:(0,s.jsx)("div",{className:"\n                    absolute inset-0 rounded-2xl border-2 transition-all\n                    ".concat(v.has(e.id)?"border-routix-purple bg-routix-purple/20":"border-transparent hover:border-routix-purple/50","\n                  "),children:v.has(e.id)&&(0,s.jsx)("div",{className:"absolute top-3 right-3 w-6 h-6 rounded-full bg-routix-purple flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})})}),(0,s.jsx)(w,{generation:e,onFavorite:d,onDownload:x,onShare:u,onRegenerate:m,onDelete:h,onPreview:p})]},e.id))})}),a&&(0,s.jsx)("div",{className:"flex justify-center py-8",children:(0,s.jsx)(n.W,{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(N.Z,{className:"w-5 h-5 animate-spin text-routix-purple"}),(0,s.jsx)("span",{className:"text-text-primary",children:"Loading more thumbnails..."})]})})}),i&&!a&&(0,s.jsx)("div",{ref:Z,className:"flex justify-center py-8",children:(0,s.jsx)(j.O,{onClick:c,children:"Load More Thumbnails"})}),t.length>0&&(0,s.jsx)(r.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>S(!f),className:"fixed bottom-6 right-6 p-4 rounded-full bg-gradient-purple text-white shadow-button-hover z-50",children:f?(0,s.jsx)(k.Z,{className:"w-6 h-6"}):(0,s.jsx)(C.Z,{className:"w-6 h-6"})})]}):(0,s.jsx)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:(0,s.jsxs)(n.W,{className:"p-12 text-center",children:[(0,s.jsx)(y.Z,{className:"w-16 h-16 text-text-muted mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-xl font-semibold text-text-primary mb-2",children:"No thumbnails yet"}),(0,s.jsx)("p",{className:"text-text-secondary mb-6",children:"Start creating amazing thumbnails with AI"}),(0,s.jsx)(j.O,{onClick:()=>window.location.href="/chat",className:"mx-auto",children:"Create Your First Thumbnail"})]})})}var Z=a(5862),_=a(7515),A=a(4817),E=a(4697),T=a(404);function F(e){var t;let{searchQuery:a,onSearchChange:i,statusFilter:o,onStatusFilterChange:c,dateRange:d,onDateRangeChange:x,showFavorites:u,onShowFavoritesChange:m,viewMode:h,onViewModeChange:v,sortBy:b,onSortByChange:f,totalCount:w}=e,[j,y]=(0,l.useState)(!1),N=[{value:"all",label:"All Status",icon:null},{value:"completed",label:"Completed",icon:Z.Z,color:"text-green-500"},{value:"processing",label:"Processing",icon:p.Z,color:"text-blue-500"},{value:"queued",label:"Queued",icon:p.Z,color:"text-yellow-500"},{value:"failed",label:"Failed",icon:_.Z,color:"text-red-500"}],S=a||"all"!==o||d.start||d.end||u;return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)(n.W,{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex-1 flex flex-col sm:flex-row gap-4 items-center w-full lg:w-auto",children:[(0,s.jsxs)("div",{className:"relative flex-1 max-w-md w-full",children:[(0,s.jsx)(A.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-text-muted"}),(0,s.jsx)("input",{type:"text",placeholder:"Search your thumbnails...",value:a,onChange:e=>i(e.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl glass border-0 focus:ring-2 focus:ring-routix-purple text-text-primary placeholder:text-text-muted bg-white/20 backdrop-blur-xl"}),a&&(0,s.jsx)("button",{onClick:()=>i(""),className:"absolute right-3 top-1/2 -translate-y-1/2 p-1 rounded-lg hover:bg-white/20 transition-colors",children:(0,s.jsx)(E.Z,{className:"w-4 h-4 text-text-muted"})})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("select",{value:o,onChange:e=>c(e.target.value),className:"px-4 py-3 rounded-xl glass border-0 focus:ring-2 focus:ring-routix-purple text-text-primary bg-white/20 backdrop-blur-xl",children:N.map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,s.jsx)(r.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>m(!u),className:"p-3 rounded-xl transition-all ".concat(u?"bg-red-500/20 text-red-600 border border-red-500/30":"bg-white/20 text-text-muted hover:text-text-primary"),children:(0,s.jsx)(g.Z,{className:"w-5 h-5 ".concat(u?"fill-current":"")})}),(0,s.jsx)(r.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>y(!j),className:"p-3 rounded-xl transition-all ".concat(j?"bg-routix-purple/20 text-routix-purple":"bg-white/20 text-text-muted hover:text-text-primary"),children:(0,s.jsx)(T.Z,{className:"w-5 h-5"})})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("span",{className:"text-sm text-text-secondary whitespace-nowrap",children:[w.toLocaleString()," thumbnails"]}),(0,s.jsx)("select",{value:b,onChange:e=>f(e.target.value),className:"px-4 py-3 rounded-xl glass border-0 focus:ring-2 focus:ring-routix-purple text-text-primary bg-white/20 backdrop-blur-xl",children:[{value:"newest",label:"Newest First"},{value:"oldest",label:"Oldest First"},{value:"most_downloaded",label:"Most Downloaded"},{value:"most_shared",label:"Most Shared"},{value:"processing_time",label:"Fastest Generation"}].map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,s.jsxs)("div",{className:"flex items-center gap-1 p-1 rounded-xl bg-white/20",children:[(0,s.jsx)(r.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>v("grid"),className:"p-2 rounded-lg transition-colors ".concat("grid"===h?"bg-routix-purple text-white":"text-text-muted hover:text-text-primary"),children:(0,s.jsx)(k.Z,{className:"w-4 h-4"})}),(0,s.jsx)(r.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>v("masonry"),className:"p-2 rounded-lg transition-colors ".concat("masonry"===h?"bg-routix-purple text-white":"text-text-muted hover:text-text-primary"),children:(0,s.jsx)(k.Z,{className:"w-4 h-4"})}),(0,s.jsx)(r.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>v("list"),className:"p-2 rounded-lg transition-colors ".concat("list"===h?"bg-routix-purple text-white":"text-text-muted hover:text-text-primary"),children:(0,s.jsx)(C.Z,{className:"w-4 h-4"})})]})]})]}),S&&(0,s.jsx)(r.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-4 pt-4 border-t border-white/20",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,s.jsx)("span",{className:"text-sm text-text-secondary",children:"Active filters:"}),a&&(0,s.jsxs)("span",{className:"px-3 py-1 text-sm rounded-lg bg-routix-purple/20 text-routix-purple flex items-center gap-2",children:['Search: "',a,'"',(0,s.jsx)("button",{onClick:()=>i(""),children:(0,s.jsx)(E.Z,{className:"w-3 h-3"})})]}),"all"!==o&&(0,s.jsxs)("span",{className:"px-3 py-1 text-sm rounded-lg bg-routix-purple/20 text-routix-purple flex items-center gap-2",children:["Status: ",null===(t=N.find(e=>e.value===o))||void 0===t?void 0:t.label,(0,s.jsx)("button",{onClick:()=>c("all"),children:(0,s.jsx)(E.Z,{className:"w-3 h-3"})})]}),u&&(0,s.jsxs)("span",{className:"px-3 py-1 text-sm rounded-lg bg-red-500/20 text-red-600 flex items-center gap-2",children:["Favorites only",(0,s.jsx)("button",{onClick:()=>m(!1),children:(0,s.jsx)(E.Z,{className:"w-3 h-3"})})]}),(0,s.jsx)("button",{onClick:()=>{i(""),c("all"),x({}),m(!1),f("newest")},className:"px-3 py-1 text-sm rounded-lg bg-white/20 hover:bg-white/30 transition-colors text-text-primary",children:"Clear all"})]})})]}),j&&(0,s.jsx)(r.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:(0,s.jsx)(n.W,{className:"p-6",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Date Range"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("input",{type:"date",value:d.start||"",onChange:e=>x({...d,start:e.target.value}),className:"flex-1 px-3 py-2 rounded-xl glass border-0 focus:ring-2 focus:ring-routix-purple text-text-primary bg-white/20 backdrop-blur-xl"}),(0,s.jsx)("span",{className:"text-text-muted self-center",children:"to"}),(0,s.jsx)("input",{type:"date",value:d.end||"",onChange:e=>x({...d,end:e.target.value}),className:"flex-1 px-3 py-2 rounded-xl glass border-0 focus:ring-2 focus:ring-routix-purple text-text-primary bg-white/20 backdrop-blur-xl"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Quick Filters"}),(0,s.jsx)("div",{className:"flex gap-2 flex-wrap",children:[{label:"Today",days:0},{label:"This Week",days:7},{label:"This Month",days:30},{label:"This Year",days:365}].map(e=>{let{label:t,days:a}=e;return(0,s.jsx)("button",{onClick:()=>{let e=new Date().toISOString().split("T")[0];x({start:new Date(Date.now()-864e5*a).toISOString().split("T")[0],end:e})},className:"px-3 py-2 text-sm rounded-lg bg-white/20 hover:bg-white/30 transition-colors text-text-primary",children:t},t)})})]})]})})})]})}var I=a(9799),D=a(4908),P=a(7218),R=a(3953),H=a(4086),z=a(7583),G=a(2468),M=a(6884);function L(e){let{generation:t,isOpen:a,onClose:i,onDownload:c}=e,[d,u]=(0,l.useState)(!1),[m,h]=(0,l.useState)("png");if(!t||!a)return null;let p="".concat(window.location.origin,"/gallery/").concat(t.id),g='Check out this amazing thumbnail I created with Routix AI: "'.concat(t.prompt,'"'),v=async()=>{try{await navigator.clipboard.writeText(p),u(!0),f.Am.success("Link copied to clipboard!"),setTimeout(()=>u(!1),2e3)}catch(e){f.Am.error("Failed to copy link")}},b=e=>{let t=encodeURIComponent(g),a=encodeURIComponent(p),s={twitter:"https://twitter.com/intent/tweet?text=".concat(t,"&url=").concat(a),facebook:"https://www.facebook.com/sharer/sharer.php?u=".concat(a),linkedin:"https://www.linkedin.com/sharing/share-offsite/?url=".concat(a),instagram:"https://www.instagram.com/",email:"mailto:?subject=Amazing AI Thumbnail&body=".concat(t,"%0A%0A").concat(a),whatsapp:"https://wa.me/?text=".concat(t,"%20").concat(a)};if("instagram"===e){f.Am.info("Instagram sharing: Save the image and share it manually on Instagram");return}window.open(s[e],"_blank","width=600,height=400")},w=[{name:"Twitter",icon:I.Z,color:"hover:bg-blue-500/20 hover:text-blue-500",key:"twitter"},{name:"Facebook",icon:D.Z,color:"hover:bg-blue-600/20 hover:text-blue-600",key:"facebook"},{name:"LinkedIn",icon:P.Z,color:"hover:bg-blue-700/20 hover:text-blue-700",key:"linkedin"},{name:"Instagram",icon:R.Z,color:"hover:bg-pink-500/20 hover:text-pink-500",key:"instagram"},{name:"Email",icon:H.Z,color:"hover:bg-gray-500/20 hover:text-gray-600",key:"email"},{name:"WhatsApp",icon:z.Z,color:"hover:bg-green-500/20 hover:text-green-500",key:"whatsapp"}];return(0,s.jsx)(o.M,{children:a&&(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(r.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:i,className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,s.jsx)(r.E.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},onClick:e=>e.stopPropagation(),className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:(0,s.jsxs)(n.W,{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-text-primary",children:"Share & Download"}),(0,s.jsx)("button",{onClick:i,className:"p-2 rounded-xl hover:bg-white/20 transition-colors text-text-muted hover:text-text-primary",children:(0,s.jsx)(E.Z,{className:"w-6 h-6"})})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("div",{className:"aspect-video bg-white/10 rounded-xl overflow-hidden mb-3",children:t.thumbnail_url&&(0,s.jsx)("img",{src:t.thumbnail_url,alt:t.prompt,className:"w-full h-full object-cover"})}),(0,s.jsx)("p",{className:"text-text-secondary text-sm line-clamp-2",children:t.prompt})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-text-primary mb-3",children:"Share Link"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("input",{type:"text",value:p,readOnly:!0,className:"flex-1 px-4 py-3 rounded-xl glass border-0 focus:ring-2 focus:ring-routix-purple text-text-primary bg-white/20 backdrop-blur-xl"}),(0,s.jsx)(r.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:v,className:"px-4 py-3 rounded-xl transition-all flex items-center gap-2 ".concat(d?"bg-green-500/20 text-green-600":"bg-white/20 hover:bg-white/30 text-text-primary"),children:d?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(G.Z,{className:"w-5 h-5"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Copied!"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(M.Z,{className:"w-5 h-5"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Copy"})]})})]})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-text-primary mb-3",children:"Share on Social Media"}),(0,s.jsx)("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-3",children:w.map(e=>(0,s.jsxs)(r.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>b(e.key),className:"p-4 rounded-xl bg-white/20 transition-all text-text-primary ".concat(e.color," flex flex-col items-center gap-2"),children:[(0,s.jsx)(e.icon,{className:"w-6 h-6"}),(0,s.jsx)("span",{className:"text-xs font-medium",children:e.name})]},e.key))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-text-primary mb-3",children:"Download Options"}),(0,s.jsx)("div",{className:"space-y-3 mb-4",children:[{value:"png",label:"PNG (Best Quality)",description:"Lossless, transparent background support"},{value:"jpg",label:"JPG (Smaller Size)",description:"Compressed, smaller file size"},{value:"webp",label:"WebP (Modern)",description:"Modern format, great compression"}].map(e=>(0,s.jsxs)(r.E.label,{whileHover:{scale:1.01},className:"flex items-center gap-4 p-4 rounded-xl cursor-pointer transition-all ".concat(m===e.value?"bg-routix-purple/20 border border-routix-purple/30":"bg-white/10 hover:bg-white/20"),children:[(0,s.jsx)("input",{type:"radio",name:"format",value:e.value,checked:m===e.value,onChange:e=>h(e.target.value),className:"w-4 h-4 text-routix-purple"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"font-medium text-text-primary",children:e.label}),(0,s.jsx)("div",{className:"text-sm text-text-secondary",children:e.description})]})]},e.value))}),(0,s.jsxs)(j.O,{onClick:()=>{c(t.id,m),f.Am.success("Downloading ".concat(m.toUpperCase()," format..."))},className:"w-full flex items-center justify-center gap-2",children:[(0,s.jsx)(x.Z,{className:"w-5 h-5"}),(0,s.jsxs)("span",{children:["Download ",m.toUpperCase()]})]})]})]})})})})})}var O=a(6264),W=a(1568),U=a(3225);function B(){let[e,t]=(0,l.useState)([]),[a,o]=(0,l.useState)(!0),[c,d]=(0,l.useState)(!0),[x,u]=(0,l.useState)(1),[m,h]=(0,l.useState)(""),[g,v]=(0,l.useState)("all"),[b,w]=(0,l.useState)({}),[j,y]=(0,l.useState)(!1),[N,k]=(0,l.useState)("grid"),[C,Z]=(0,l.useState)("newest"),[_,A]=(0,l.useState)(!1),[E,T]=(0,l.useState)(null);(0,l.useEffect)(()=>{I(!0)},[m,g,b,j,C]);let I=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{o(!0);let a={page:e?1:x,limit:20,search:m||void 0,status:"all"!==g?g:void 0,start_date:b.start||void 0,end_date:b.end||void 0,favorites_only:j||void 0,sort_by:C},s=(await O.x.getHistory(a)).data.generations||[];e?(t(s),u(2)):(t(e=>[...e,...s]),u(e=>e+1)),d(20===s.length)}catch(e){f.Am.error("Failed to fetch generation history")}finally{o(!1)}},D=async a=>{try{let s=e.find(e=>e.id===a);if(!s)return;s.is_favorite?await O.x.unfavoriteGeneration(a):await O.x.favoriteGeneration(a),t(e=>e.map(e=>e.id===a?{...e,is_favorite:!e.is_favorite}:e))}catch(e){f.Am.error("Failed to update favorite status")}},P=async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"png";try{let s=await O.x.downloadGeneration(e),l=new Blob([s.data]),r=window.URL.createObjectURL(l),i=document.createElement("a");i.href=r,i.download="thumbnail-".concat(e,".").concat(a),document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(r),t(t=>t.map(t=>t.id===e?{...t,download_count:t.download_count+1}:t))}catch(e){f.Am.error("Download failed. Please try again.")}},R=async t=>{let a=e.find(e=>e.id===t);a&&(T(a),A(!0))},H=async t=>{try{let a=e.find(e=>e.id===t);if(!a)return;await O.x.createGeneration({prompt:a.prompt}),f.Am.success("Regeneration started! Check your chat for progress."),window.location.href="/chat"}catch(e){f.Am.error("Failed to start regeneration")}},z=async e=>{if(confirm("Are you sure you want to delete this thumbnail?"))try{await O.x.deleteGeneration(e),t(t=>t.filter(t=>t.id!==e)),f.Am.success("Thumbnail deleted successfully")}catch(e){f.Am.error("Failed to delete thumbnail")}},G={total:e.length,completed:e.filter(e=>"completed"===e.status).length,favorites:e.filter(e=>e.is_favorite).length,avgProcessingTime:e.filter(e=>e.processing_time).reduce((e,t)=>e+(t.processing_time||0),0)/e.filter(e=>e.processing_time).length||0};return(0,s.jsx)(i.i,{children:(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-main",children:[(0,s.jsxs)("div",{className:"fixed inset-0 -z-10 overflow-hidden pointer-events-none",children:[(0,s.jsx)(r.E.div,{className:"absolute w-96 h-96 bg-purple-300/20 rounded-full blur-3xl",animate:{x:[0,100,0],y:[0,-100,0]},transition:{duration:20,repeat:1/0},style:{top:"10%",left:"20%"}}),(0,s.jsx)(r.E.div,{className:"absolute w-96 h-96 bg-blue-300/20 rounded-full blur-3xl",animate:{x:[0,-100,0],y:[0,100,0]},transition:{duration:25,repeat:1/0},style:{bottom:"10%",right:"20%"}})]}),(0,s.jsxs)("div",{className:"container max-w-7xl mx-auto px-4 py-8",children:[(0,s.jsxs)(r.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-2xl bg-gradient-purple flex items-center justify-center",children:(0,s.jsx)(W.Z,{className:"w-6 h-6 text-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-text-primary",children:"Your Gallery"}),(0,s.jsx)("p",{className:"text-text-secondary",children:"Manage and share your AI-generated thumbnails"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,s.jsx)(n.W,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-xl bg-blue-500/20 flex items-center justify-center",children:(0,s.jsx)(W.Z,{className:"w-5 h-5 text-blue-500"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-text-primary",children:G.total}),(0,s.jsx)("p",{className:"text-sm text-text-secondary",children:"Total Created"})]})]})}),(0,s.jsx)(n.W,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-xl bg-green-500/20 flex items-center justify-center",children:(0,s.jsx)(U.Z,{className:"w-5 h-5 text-green-500"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-text-primary",children:G.completed}),(0,s.jsx)("p",{className:"text-sm text-text-secondary",children:"Completed"})]})]})}),(0,s.jsx)(n.W,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-xl bg-red-500/20 flex items-center justify-center",children:(0,s.jsx)(W.Z,{className:"w-5 h-5 text-red-500"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-text-primary",children:G.favorites}),(0,s.jsx)("p",{className:"text-sm text-text-secondary",children:"Favorites"})]})]})}),(0,s.jsx)(n.W,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-xl bg-purple-500/20 flex items-center justify-center",children:(0,s.jsx)(p.Z,{className:"w-5 h-5 text-purple-500"})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"text-2xl font-bold text-text-primary",children:[G.avgProcessingTime.toFixed(1),"s"]}),(0,s.jsx)("p",{className:"text-sm text-text-secondary",children:"Avg Time"})]})]})})]})]}),(0,s.jsx)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-8",children:(0,s.jsx)(F,{searchQuery:m,onSearchChange:h,statusFilter:g,onStatusFilterChange:v,dateRange:b,onDateRangeChange:w,showFavorites:j,onShowFavoritesChange:y,viewMode:N,onViewModeChange:k,sortBy:C,onSortByChange:Z,totalCount:G.total})}),(0,s.jsx)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:(0,s.jsx)(S,{generations:e,loading:a,hasMore:c,onLoadMore:()=>{!a&&c&&I(!1)},onFavorite:D,onDownload:P,onShare:R,onRegenerate:H,onDelete:z,onPreview:e=>{T(e),A(!0)},viewMode:N})})]}),(0,s.jsx)(L,{generation:E,isOpen:_,onClose:()=>{A(!1),T(null)},onDownload:P})]})})}},3907:function(e,t,a){"use strict";a.d(t,{W:function(){return i}});var s=a(7437),l=a(7440),r=a(4539);function i(e){let{children:t,className:a,hover:i=!1,...n}=e;return(0,s.jsx)(r.E.div,{className:(0,l.cn)("glass rounded-3xl shadow-glass",i&&"hover:shadow-glass-hover hover:scale-[1.01] cursor-pointer",a),...n,children:t})}},8145:function(e,t,a){"use strict";a.d(t,{O:function(){return n}});var s=a(7437),l=a(4539),r=a(7440),i=a(4109);function n(e){let{children:t,className:a,loading:n=!1,variant:o="primary",disabled:c,...d}=e;return(0,s.jsx)(l.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:(0,r.cn)("relative px-6 py-3 rounded-2xl font-semibold text-white","shadow-button transition-all duration-200","disabled:opacity-50 disabled:cursor-not-allowed","primary"===o&&"bg-gradient-purple hover:shadow-button-hover","secondary"===o&&"bg-gradient-blue hover:shadow-button-hover",a),disabled:c||n,...d,children:n?(0,s.jsxs)("span",{className:"flex items-center justify-center",children:[(0,s.jsx)(i.Z,{className:"w-5 h-5 animate-spin mr-2"}),"Loading..."]}):t})}},4388:function(e,t,a){"use strict";a.d(t,{O:function(){return c}});var s=a(7437),l=a(4539),r=a(933),i=a(4109),n=a(5862),o=a(7515);function c(e){let{status:t,className:a}=e,c=(()=>{switch(t){case"queued":return{icon:r.Z,text:"Queued",bgColor:"bg-blue-500/20",textColor:"text-blue-600",borderColor:"border-blue-500/30"};case"processing":return{icon:i.Z,text:"Processing",bgColor:"bg-routix-purple/20",textColor:"text-routix-purple",borderColor:"border-routix-purple/30",animate:!0};case"completed":return{icon:n.Z,text:"Completed",bgColor:"bg-green-500/20",textColor:"text-green-600",borderColor:"border-green-500/30"};case"failed":return{icon:o.Z,text:"Failed",bgColor:"bg-red-500/20",textColor:"text-red-600",borderColor:"border-red-500/30"};default:return{icon:r.Z,text:"Unknown",bgColor:"bg-gray-500/20",textColor:"text-gray-600",borderColor:"border-gray-500/30"}}})(),d=c.icon;return(0,s.jsxs)(l.E.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"\n        inline-flex items-center gap-2 px-3 py-1.5 rounded-full border\n        ".concat(c.bgColor," ").concat(c.textColor," ").concat(c.borderColor,"\n        ").concat(a,"\n      "),children:[(0,s.jsx)(d,{className:"w-4 h-4 ".concat(c.animate?"animate-spin":"")}),(0,s.jsx)("span",{className:"text-sm font-medium",children:c.text})]})}},6264:function(e,t,a){"use strict";a.d(t,{x:function(){return i}});var s=a(8472),l=a(7776);let r=s.Z.create({baseURL:"http://localhost:8000",headers:{"Content-Type":"application/json"},timeout:3e4});r.interceptors.request.use(e=>{let t=localStorage.getItem("access_token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),r.interceptors.response.use(e=>e,async e=>{var t,a,i;let n=e.config;if((null===(t=e.response)||void 0===t?void 0:t.status)===401&&!n._retry){n._retry=!0;try{let e=localStorage.getItem("refresh_token"),{data:t}=await s.Z.post("".concat("http://localhost:8000","/api/v1/auth/refresh"),{refresh_token:e});return localStorage.setItem("access_token",t.access_token),r.defaults.headers.common.Authorization="Bearer ".concat(t.access_token),r(n)}catch(e){return localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.href="/login",Promise.reject(e)}}let o=(null===(i=e.response)||void 0===i?void 0:null===(a=i.data)||void 0===a?void 0:a.detail)||e.message||"An error occurred";return l.Am.error(o),Promise.reject(e)});let i={register:e=>r.post("/api/v1/users/register",e),login:e=>r.post("/api/v1/users/login",e),getProfile:()=>r.get("/api/v1/users/profile"),updateProfile:e=>r.put("/api/v1/users/profile",e),getCredits:()=>r.get("/api/v1/users/credits"),getConversations:()=>r.get("/api/v1/chat/conversations"),createConversation:()=>r.post("/api/v1/chat/conversations"),getMessages:e=>r.get("/api/v1/chat/conversations/".concat(e,"/messages")),sendMessage:(e,t)=>r.post("/api/v1/chat/conversations/".concat(e,"/messages"),t),getAlgorithms:()=>r.get("/api/v1/generation/algorithms"),createGeneration:e=>r.post("/api/v1/generation/create",e),getGenerationStatus:e=>r.get("/api/v1/generation/".concat(e,"/status")),getGenerationResult:e=>r.get("/api/v1/generation/".concat(e,"/result")),getHistory:e=>r.get("/api/v1/generations/user",{params:e}),uploadTemplate:e=>r.post("/api/v1/templates/upload",e,{headers:{"Content-Type":"multipart/form-data"}}),getTemplates:e=>r.get("/api/v1/templates",{params:e}),searchTemplates:e=>r.get("/api/v1/templates/search",{params:{query:e}}),deleteTemplate:e=>r.delete("/api/v1/templates/".concat(e)),updateTemplate:(e,t)=>r.put("/api/v1/templates/".concat(e),t),downloadGeneration:e=>r.get("/api/v1/generations/".concat(e,"/download"),{responseType:"blob"}),shareGeneration:(e,t)=>r.post("/api/v1/generations/".concat(e,"/share"),t),favoriteGeneration:e=>r.post("/api/v1/generations/".concat(e,"/favorite")),unfavoriteGeneration:e=>r.delete("/api/v1/generations/".concat(e,"/favorite")),deleteGeneration:e=>r.delete("/api/v1/generations/".concat(e)),getAdminStats:()=>r.get("/api/v1/admin/stats"),getUsers:e=>r.get("/api/v1/admin/users",{params:e}),updateUser:(e,t)=>r.put("/api/v1/admin/users/".concat(e),t),getAnalytics:e=>r.get("/api/v1/admin/analytics",{params:e}),getRecentActivity:()=>r.get("/api/v1/admin/activity")}},7651:function(e,t,a){"use strict";a.d(t,{AuthProvider:function(){return c},a:function(){return d},i:function(){return x}});var s=a(7437),l=a(2265),r=a(6463),i=a(6264),n=a(7776);let o=(0,l.createContext)(null);function c(e){let{children:t}=e,[a,c]=(0,l.useState)(null),[d,x]=(0,l.useState)(!0),u=(0,r.useRouter)();(0,l.useEffect)(()=>{localStorage.getItem("access_token")?g():x(!1)},[]);let m=async(e,t)=>{try{let{data:a}=await i.x.login({username:e,password:t});localStorage.setItem("access_token",a.access_token),localStorage.setItem("refresh_token",a.refresh_token),await g(),n.Am.success("Welcome back!"),u.push("/chat")}catch(e){var a,s;throw n.Am.error((null===(s=e.response)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.detail)||"Login failed"),e}},h=async e=>{try{await i.x.register(e),n.Am.success("Account created successfully! Please log in."),u.push("/login")}catch(e){var t,a;throw n.Am.error((null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.detail)||"Registration failed"),e}},p=()=>{localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),c(null),u.push("/login"),n.Am.success("Logged out successfully")},g=async()=>{try{let{data:e}=await i.x.getProfile();c(e)}catch(e){p()}finally{x(!1)}};return(0,s.jsx)(o.Provider,{value:{user:a,loading:d,login:m,register:h,logout:p,refreshUser:g},children:t})}function d(){let e=(0,l.useContext)(o);if(!e)throw Error("useAuth must be used within AuthProvider");return e}function x(e){let{children:t}=e,{user:a,loading:i}=d(),n=(0,r.useRouter)();return((0,l.useEffect)(()=>{i||a||n.push("/login")},[a,i,n]),i)?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-main flex items-center justify-center",children:(0,s.jsx)("div",{className:"w-16 h-16 rounded-3xl bg-white/80 backdrop-blur-xl shadow-lg flex items-center justify-center animate-pulse",children:(0,s.jsx)("div",{className:"w-8 h-8 bg-routix-purple/20 rounded-xl"})})}):a?(0,s.jsx)(s.Fragment,{children:t}):null}},7440:function(e,t,a){"use strict";a.d(t,{cn:function(){return r}});var s=a(4839),l=a(6164);function r(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,l.m6)((0,s.W)(t))}}},function(e){e.O(0,[341,314,876,971,23,744],function(){return e(e.s=6228)}),_N_E=e.O()}]);