(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{8721:function(e,t,s){Promise.resolve().then(s.bind(s,7164))},7164:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return v}});var a=s(7437),i=s(2265),n=s(4539),r=s(3907),l=s(6264),c=s(1240),o=s(3674),d=s(1066);let m=(0,d.Z)("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);var p=s(3225),u=s(5862),x=s(7515);let h=(0,d.Z)("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);var g=s(933);function v(){var e;let[t,s]=(0,i.useState)(null),[d,v]=(0,i.useState)([]),[y,f]=(0,i.useState)(!0);(0,i.useEffect)(()=>{(async()=>{try{let[e,t]=await Promise.all([l.x.getAdminStats(),l.x.getRecentActivity()]);s(e.data),v(t.data)}catch(e){console.error("Failed to fetch admin data:",e)}finally{f(!1)}})()},[]);let j=[{title:"Total Users",value:(null==t?void 0:t.total_users)||0,icon:c.Z,color:"text-blue-500",bgColor:"bg-blue-500/20"},{title:"Templates",value:(null==t?void 0:t.total_templates)||0,icon:o.Z,color:"text-green-500",bgColor:"bg-green-500/20"},{title:"Generations",value:(null==t?void 0:t.total_generations)||0,icon:m,color:"text-routix-purple",bgColor:"bg-routix-purple/20"},{title:"Revenue Today",value:"$".concat((null==t?void 0:t.revenue_today)||0),icon:p.Z,color:"text-emerald-500",bgColor:"bg-emerald-500/20"}],N=e=>{switch(e){case"user_registered":return(0,a.jsx)(c.Z,{className:"w-4 h-4 text-blue-500"});case"template_uploaded":return(0,a.jsx)(o.Z,{className:"w-4 h-4 text-green-500"});case"generation_completed":return(0,a.jsx)(u.Z,{className:"w-4 h-4 text-green-500"});case"generation_failed":return(0,a.jsx)(x.Z,{className:"w-4 h-4 text-red-500"});default:return(0,a.jsx)(h,{className:"w-4 h-4 text-text-muted"})}},w=e=>{switch(e){case"user_registered":return"text-blue-600";case"template_uploaded":case"generation_completed":return"text-green-600";case"generation_failed":return"text-red-600";default:return"text-text-secondary"}};return y?(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(e=>(0,a.jsx)(r.W,{className:"p-6 animate-pulse",children:(0,a.jsx)("div",{className:"h-20 bg-white/10 rounded-xl"})},e))})}):(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-text-primary mb-2",children:"Admin Dashboard"}),(0,a.jsx)("p",{className:"text-text-secondary",children:"Overview of your Routix platform"})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:j.map((e,t)=>(0,a.jsx)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},children:(0,a.jsx)(r.W,{className:"p-6 hover:scale-105 transition-transform",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-text-secondary text-sm font-medium",children:e.title}),(0,a.jsx)("p",{className:"text-2xl font-bold text-text-primary mt-1",children:"number"==typeof e.value?e.value.toLocaleString():e.value})]}),(0,a.jsx)("div",{className:"w-12 h-12 rounded-2xl ".concat(e.bgColor," flex items-center justify-center"),children:(0,a.jsx)(e.icon,{className:"w-6 h-6 ".concat(e.color)})})]})})},e.title))}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsx)(n.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4},className:"lg:col-span-2",children:(0,a.jsxs)(r.W,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)(h,{className:"w-6 h-6 text-routix-purple"}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-text-primary",children:"Recent Activity"})]}),(0,a.jsx)("div",{className:"space-y-4",children:d.length>0?d.map(e=>(0,a.jsxs)("div",{className:"flex items-start gap-3 p-4 rounded-2xl bg-white/10 hover:bg-white/20 transition-colors",children:[(0,a.jsx)("div",{className:"mt-0.5",children:N(e.type)}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("p",{className:"text-text-primary font-medium",children:[(0,a.jsx)("span",{className:w(e.type),children:e.user})," ",e.details]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,a.jsx)(g.Z,{className:"w-3 h-3 text-text-muted"}),(0,a.jsx)("span",{className:"text-sm text-text-muted",children:new Date(e.timestamp).toLocaleString()})]})]})]},e.id)):(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(h,{className:"w-12 h-12 text-text-muted mx-auto mb-3"}),(0,a.jsx)("p",{className:"text-text-secondary",children:"No recent activity"})]})})]})}),(0,a.jsxs)(n.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5},children:[(0,a.jsxs)(r.W,{className:"p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-text-primary mb-6",children:"Quick Actions"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)(n.E.a,{href:"/admin/templates",whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-3 p-4 rounded-2xl bg-gradient-purple text-white hover:shadow-button-hover transition-all",children:[(0,a.jsx)(o.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"font-medium",children:"Manage Templates"})]}),(0,a.jsxs)(n.E.a,{href:"/admin/users",whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-3 p-4 rounded-2xl bg-white/20 text-text-primary hover:bg-white/30 transition-all",children:[(0,a.jsx)(c.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"font-medium",children:"View Users"})]}),(0,a.jsxs)(n.E.a,{href:"/admin/analytics",whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-3 p-4 rounded-2xl bg-white/20 text-text-primary hover:bg-white/30 transition-all",children:[(0,a.jsx)(p.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"font-medium",children:"View Analytics"})]})]})]}),(0,a.jsxs)(r.W,{className:"p-6 mt-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:"System Status"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-text-secondary",children:"API Status"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,a.jsx)("span",{className:"text-sm text-green-600",children:"Online"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-text-secondary",children:"Active Generations"}),(0,a.jsx)("span",{className:"text-text-primary font-medium",children:(null==t?void 0:t.active_generations)||0})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-text-secondary",children:"Credits Consumed"}),(0,a.jsx)("span",{className:"text-text-primary font-medium",children:(null==t?void 0:null===(e=t.credits_consumed)||void 0===e?void 0:e.toLocaleString())||0})]})]})]})]})]})]})}},3907:function(e,t,s){"use strict";s.d(t,{W:function(){return r}});var a=s(7437),i=s(7440),n=s(4539);function r(e){let{children:t,className:s,hover:r=!1,...l}=e;return(0,a.jsx)(n.E.div,{className:(0,i.cn)("glass rounded-3xl shadow-glass",r&&"hover:shadow-glass-hover hover:scale-[1.01] cursor-pointer",s),...l,children:t})}},6264:function(e,t,s){"use strict";s.d(t,{x:function(){return r}});var a=s(8472),i=s(7776);let n=a.Z.create({baseURL:"http://localhost:8000",headers:{"Content-Type":"application/json"},timeout:3e4});n.interceptors.request.use(e=>{let t=localStorage.getItem("access_token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),n.interceptors.response.use(e=>e,async e=>{var t,s,r;let l=e.config;if((null===(t=e.response)||void 0===t?void 0:t.status)===401&&!l._retry){l._retry=!0;try{let e=localStorage.getItem("refresh_token"),{data:t}=await a.Z.post("".concat("http://localhost:8000","/api/v1/auth/refresh"),{refresh_token:e});return localStorage.setItem("access_token",t.access_token),n.defaults.headers.common.Authorization="Bearer ".concat(t.access_token),n(l)}catch(e){return localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.href="/login",Promise.reject(e)}}let c=(null===(r=e.response)||void 0===r?void 0:null===(s=r.data)||void 0===s?void 0:s.detail)||e.message||"An error occurred";return i.Am.error(c),Promise.reject(e)});let r={register:e=>n.post("/api/v1/users/register",e),login:e=>n.post("/api/v1/users/login",e),getProfile:()=>n.get("/api/v1/users/profile"),updateProfile:e=>n.put("/api/v1/users/profile",e),getCredits:()=>n.get("/api/v1/users/credits"),getConversations:()=>n.get("/api/v1/chat/conversations"),createConversation:()=>n.post("/api/v1/chat/conversations"),getMessages:e=>n.get("/api/v1/chat/conversations/".concat(e,"/messages")),sendMessage:(e,t)=>n.post("/api/v1/chat/conversations/".concat(e,"/messages"),t),getAlgorithms:()=>n.get("/api/v1/generation/algorithms"),createGeneration:e=>n.post("/api/v1/generation/create",e),getGenerationStatus:e=>n.get("/api/v1/generation/".concat(e,"/status")),getGenerationResult:e=>n.get("/api/v1/generation/".concat(e,"/result")),getHistory:e=>n.get("/api/v1/generations/user",{params:e}),uploadTemplate:e=>n.post("/api/v1/templates/upload",e,{headers:{"Content-Type":"multipart/form-data"}}),getTemplates:e=>n.get("/api/v1/templates",{params:e}),searchTemplates:e=>n.get("/api/v1/templates/search",{params:{query:e}}),deleteTemplate:e=>n.delete("/api/v1/templates/".concat(e)),updateTemplate:(e,t)=>n.put("/api/v1/templates/".concat(e),t),downloadGeneration:e=>n.get("/api/v1/generations/".concat(e,"/download"),{responseType:"blob"}),shareGeneration:(e,t)=>n.post("/api/v1/generations/".concat(e,"/share"),t),favoriteGeneration:e=>n.post("/api/v1/generations/".concat(e,"/favorite")),unfavoriteGeneration:e=>n.delete("/api/v1/generations/".concat(e,"/favorite")),deleteGeneration:e=>n.delete("/api/v1/generations/".concat(e)),getAdminStats:()=>n.get("/api/v1/admin/stats"),getUsers:e=>n.get("/api/v1/admin/users",{params:e}),updateUser:(e,t)=>n.put("/api/v1/admin/users/".concat(e),t),getAnalytics:e=>n.get("/api/v1/admin/analytics",{params:e}),getRecentActivity:()=>n.get("/api/v1/admin/activity")}},7440:function(e,t,s){"use strict";s.d(t,{cn:function(){return n}});var a=s(4839),i=s(6164);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,i.m6)((0,a.W)(t))}},7515:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(1066).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},5862:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(1066).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},933:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(1066).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},3674:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(1066).Z)("FileImage",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["circle",{cx:"10",cy:"13",r:"2",key:"6v46hv"}],["path",{d:"m20 17-1.09-1.09a2 2 0 0 0-2.82 0L10 22",key:"17vly1"}]])},3225:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(1066).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},1240:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(1066).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])}},function(e){e.O(0,[341,314,971,23,744],function(){return e(e.s=8721)}),_N_E=e.O()}]);