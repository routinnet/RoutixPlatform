(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[561],{1112:function(e,t,s){Promise.resolve().then(s.bind(s,8185))},8185:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return C}});var a=s(7437),r=s(2265),i=s(4539),l=s(3907),n=s(8145),c=s(5048),o=s(5127),d=s(8184),m=s(3674),p=s(5862),x=s(7515),u=s(4697),h=s(7776);function g(e){let{onUpload:t,maxFiles:s=10,acceptedTypes:g=["image/*"],maxSize:v=10485760}=e,[f,j]=(0,r.useState)([]),[y,N]=(0,r.useState)(!1),b=(0,r.useCallback)((e,t)=>{t.forEach(e=>{let{file:t,errors:s}=e;s.forEach(e=>{"file-too-large"===e.code?h.Am.error("".concat(t.name," is too large. Max size is ").concat(v/1024/1024,"MB")):"file-invalid-type"===e.code?h.Am.error("".concat(t.name," is not a supported file type")):h.Am.error("Error with ".concat(t.name,": ").concat(e.message))})});let s=e.map(e=>({...e,id:Math.random().toString(36).substr(2,9),preview:URL.createObjectURL(e),status:"uploading",progress:0}));j(e=>[...e,...s]),s.forEach(e=>{let t=setInterval(()=>{j(t=>t.map(t=>t.id===e.id?{...t,progress:Math.min(t.progress+10,100)}:t))},200);setTimeout(()=>{clearInterval(t),j(t=>t.map(t=>t.id===e.id?{...t,status:"success",progress:100}:t))},2e3)})},[v]),{getRootProps:w,getInputProps:k,isDragActive:C}=(0,c.uI)({onDrop:b,accept:g.reduce((e,t)=>({...e,[t]:[]}),{}),maxSize:v,maxFiles:s,multiple:s>1}),A=e=>{j(t=>{let s=t.find(t=>t.id===e);return(null==s?void 0:s.preview)&&URL.revokeObjectURL(s.preview),t.filter(t=>t.id!==e)})},T=async()=>{let e=f.filter(e=>"success"===e.status);if(0===e.length){h.Am.error("No files ready for upload");return}N(!0);try{await t(e),j([]),h.Am.success("Successfully uploaded ".concat(e.length," file(s)"))}catch(e){h.Am.error("Upload failed. Please try again.")}finally{N(!1)}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{...w(),className:"\n          relative cursor-pointer transition-all duration-300\n          ".concat(C?"scale-105":"","\n        "),children:[(0,a.jsx)("input",{...k()}),(0,a.jsx)(l.W,{className:"\n          p-12 text-center border-2 border-dashed transition-all\n          ".concat(C?"border-routix-purple bg-routix-purple/10":"border-white/30 hover:border-routix-purple/50","\n        "),children:(0,a.jsxs)(i.E.div,{animate:{y:C?-10:0},className:"space-y-4",children:[(0,a.jsx)("div",{className:"w-16 h-16 mx-auto rounded-2xl bg-gradient-purple flex items-center justify-center",children:(0,a.jsx)(d.Z,{className:"w-8 h-8 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-text-primary mb-2",children:C?"Drop files here":"Upload Templates"}),(0,a.jsx)("p",{className:"text-text-secondary",children:"Drag and drop your template files here, or click to browse"}),(0,a.jsxs)("p",{className:"text-sm text-text-muted mt-2",children:["Supports: ",g.join(", ")," • Max ",v/1024/1024,"MB per file"]})]})]})})]}),(0,a.jsx)(o.M,{children:f.length>0&&(0,a.jsx)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:(0,a.jsxs)(l.W,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("h4",{className:"font-semibold text-text-primary",children:["Uploaded Files (",f.length,")"]}),(0,a.jsx)(n.O,{onClick:T,loading:y,disabled:f.every(e=>"success"!==e.status),className:"px-4 py-2",children:"Upload All"})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map(e=>(0,a.jsx)(i.E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"relative",children:(0,a.jsxs)(l.W,{className:"p-4",children:[(0,a.jsx)("div",{className:"aspect-video bg-white/10 rounded-xl mb-3 overflow-hidden",children:e.preview?(0,a.jsx)("img",{src:e.preview,alt:e.name,className:"w-full h-full object-cover"}):(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,a.jsx)(m.Z,{className:"w-8 h-8 text-text-muted"})})}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"font-medium text-text-primary truncate",title:e.name,children:e.name}),(0,a.jsxs)("p",{className:"text-sm text-text-muted",children:[(e.size/1024/1024).toFixed(2)," MB"]}),"uploading"===e.status&&(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("div",{className:"w-full bg-white/20 rounded-full h-2",children:(0,a.jsx)(i.E.div,{className:"h-2 bg-gradient-purple rounded-full",initial:{width:0},animate:{width:"".concat(e.progress,"%")},transition:{duration:.3}})}),(0,a.jsxs)("p",{className:"text-xs text-text-muted",children:[e.progress,"%"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:["success"===e.status&&(0,a.jsx)(p.Z,{className:"w-4 h-4 text-green-500"}),"error"===e.status&&(0,a.jsx)(x.Z,{className:"w-4 h-4 text-red-500"}),(0,a.jsx)("span",{className:"text-xs font-medium ".concat("success"===e.status?"text-green-600":"error"===e.status?"text-red-600":"text-text-muted"),children:"uploading"===e.status?"Processing...":"success"===e.status?"Ready":"Failed"})]}),(0,a.jsx)("button",{onClick:()=>A(e.id),className:"p-1 rounded-lg hover:bg-white/20 transition-colors",children:(0,a.jsx)(u.Z,{className:"w-4 h-4 text-text-muted"})})]})]})]})},e.id))})]})})})]})}var v=s(6264),f=s(2513),j=s(4817),y=s(4775),N=s(5574),b=s(5733),w=s(7529),k=s(883);function C(){let[e,t]=(0,r.useState)([]),[s,c]=(0,r.useState)(!0),[o,d]=(0,r.useState)(""),[p,x]=(0,r.useState)("all"),[u,C]=(0,r.useState)("grid"),[A,T]=(0,r.useState)(!1);(0,r.useEffect)(()=>{_()},[]);let _=async()=>{try{let e=await v.x.getTemplates();t(e.data)}catch(e){h.Am.error("Failed to fetch templates")}finally{c(!1)}},S=async e=>{let t=new FormData;e.forEach(e=>{t.append("files",e)}),await v.x.uploadTemplate(t),await _(),T(!1)},Z=async e=>{if(confirm("Are you sure you want to delete this template?"))try{await v.x.deleteTemplate(e),t(t=>t.filter(t=>t.id!==e)),h.Am.success("Template deleted successfully")}catch(e){h.Am.error("Failed to delete template")}},E=e.filter(e=>{let t=e.name.toLowerCase().includes(o.toLowerCase())||e.tags.some(e=>e.toLowerCase().includes(o.toLowerCase())),s="all"===p||e.category===p;return t&&s});return s?(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(e=>(0,a.jsxs)(l.W,{className:"p-4 animate-pulse",children:[(0,a.jsx)("div",{className:"aspect-video bg-white/10 rounded-xl mb-4"}),(0,a.jsx)("div",{className:"h-4 bg-white/10 rounded mb-2"}),(0,a.jsx)("div",{className:"h-3 bg-white/10 rounded w-2/3"})]},e))})}):(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-text-primary mb-2",children:"Template Management"}),(0,a.jsx)("p",{className:"text-text-secondary",children:"Manage your thumbnail templates and upload new ones"})]}),(0,a.jsxs)(n.O,{onClick:()=>T(!A),className:"flex items-center gap-2",children:[(0,a.jsx)(f.Z,{className:"w-5 h-5"}),"Upload Templates"]})]}),A&&(0,a.jsx)(i.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:(0,a.jsx)(g,{onUpload:S,acceptedTypes:["image/*"],maxFiles:20})}),(0,a.jsx)(l.W,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 items-center justify-between",children:[(0,a.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,a.jsx)(j.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-text-muted"}),(0,a.jsx)("input",{type:"text",placeholder:"Search templates...",value:o,onChange:e=>d(e.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl glass border-0 focus:ring-2 focus:ring-routix-purple text-text-primary placeholder:text-text-muted bg-white/20 backdrop-blur-xl"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("select",{value:p,onChange:e=>x(e.target.value),className:"px-4 py-3 rounded-xl glass border-0 focus:ring-2 focus:ring-routix-purple text-text-primary bg-white/20 backdrop-blur-xl",children:["all","gaming","tutorial","tech","lifestyle","business"].map(e=>(0,a.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))}),(0,a.jsxs)("div",{className:"flex items-center gap-1 p-1 rounded-xl bg-white/20",children:[(0,a.jsx)("button",{onClick:()=>C("grid"),className:"p-2 rounded-lg transition-colors ".concat("grid"===u?"bg-routix-purple text-white":"text-text-muted hover:text-text-primary"),children:(0,a.jsx)(y.Z,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>C("list"),className:"p-2 rounded-lg transition-colors ".concat("list"===u?"bg-routix-purple text-white":"text-text-muted hover:text-text-primary"),children:(0,a.jsx)(N.Z,{className:"w-4 h-4"})})]})]})]})}),E.length>0?(0,a.jsx)("div",{className:"grid"===u?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-4",children:E.map((e,t)=>(0,a.jsx)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*t},children:"grid"===u?(0,a.jsxs)(l.W,{className:"p-4 hover:scale-105 transition-transform",children:[(0,a.jsx)("div",{className:"aspect-video bg-white/10 rounded-xl mb-4 overflow-hidden",children:(0,a.jsx)("img",{src:e.thumbnail_url,alt:e.name,className:"w-full h-full object-cover"})}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-text-primary truncate",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-text-secondary capitalize",children:e.category})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.tags.slice(0,3).map(e=>(0,a.jsx)("span",{className:"px-2 py-1 text-xs rounded-lg bg-routix-purple/20 text-routix-purple",children:e},e)),e.tags.length>3&&(0,a.jsxs)("span",{className:"px-2 py-1 text-xs rounded-lg bg-white/20 text-text-muted",children:["+",e.tags.length-3]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm text-text-muted",children:[(0,a.jsxs)("span",{children:[e.usage_count," uses"]}),(0,a.jsx)("span",{className:"px-2 py-1 rounded-lg ".concat("active"===e.status?"bg-green-500/20 text-green-600":"bg-red-500/20 text-red-600"),children:e.status})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("button",{className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded-xl bg-white/20 hover:bg-white/30 transition-colors text-text-primary",children:[(0,a.jsx)(b.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-sm",children:"Preview"})]}),(0,a.jsx)("button",{className:"p-2 rounded-xl bg-white/20 hover:bg-white/30 transition-colors text-text-primary",children:(0,a.jsx)(w.Z,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>Z(e.id),className:"p-2 rounded-xl bg-red-500/20 hover:bg-red-500/30 transition-colors text-red-600",children:(0,a.jsx)(k.Z,{className:"w-4 h-4"})})]})]})]}):(0,a.jsx)(l.W,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-6",children:[(0,a.jsx)("div",{className:"w-24 h-16 bg-white/10 rounded-xl overflow-hidden flex-shrink-0",children:(0,a.jsx)("img",{src:e.thumbnail_url,alt:e.name,className:"w-full h-full object-cover"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h3",{className:"font-semibold text-text-primary mb-1",children:e.name}),(0,a.jsxs)("p",{className:"text-sm text-text-secondary mb-2 capitalize",children:[e.category," • ",e.usage_count," uses"]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1",children:e.tags.map(e=>(0,a.jsx)("span",{className:"px-2 py-1 text-xs rounded-lg bg-routix-purple/20 text-routix-purple",children:e},e))})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{className:"p-2 rounded-xl bg-white/20 hover:bg-white/30 transition-colors text-text-primary",children:(0,a.jsx)(b.Z,{className:"w-4 h-4"})}),(0,a.jsx)("button",{className:"p-2 rounded-xl bg-white/20 hover:bg-white/30 transition-colors text-text-primary",children:(0,a.jsx)(w.Z,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>Z(e.id),className:"p-2 rounded-xl bg-red-500/20 hover:bg-red-500/30 transition-colors text-red-600",children:(0,a.jsx)(k.Z,{className:"w-4 h-4"})})]})]})})},e.id))}):(0,a.jsxs)(l.W,{className:"p-12 text-center",children:[(0,a.jsx)(m.Z,{className:"w-16 h-16 text-text-muted mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-text-primary mb-2",children:"No templates found"}),(0,a.jsx)("p",{className:"text-text-secondary mb-6",children:o||"all"!==p?"Try adjusting your search or filters":"Upload your first template to get started"}),!o&&"all"===p&&(0,a.jsx)(n.O,{onClick:()=>T(!0),className:"mx-auto",children:"Upload Templates"})]})]})}},3907:function(e,t,s){"use strict";s.d(t,{W:function(){return l}});var a=s(7437),r=s(7440),i=s(4539);function l(e){let{children:t,className:s,hover:l=!1,...n}=e;return(0,a.jsx)(i.E.div,{className:(0,r.cn)("glass rounded-3xl shadow-glass",l&&"hover:shadow-glass-hover hover:scale-[1.01] cursor-pointer",s),...n,children:t})}},8145:function(e,t,s){"use strict";s.d(t,{O:function(){return n}});var a=s(7437),r=s(4539),i=s(7440),l=s(4109);function n(e){let{children:t,className:s,loading:n=!1,variant:c="primary",disabled:o,...d}=e;return(0,a.jsx)(r.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:(0,i.cn)("relative px-6 py-3 rounded-2xl font-semibold text-white","shadow-button transition-all duration-200","disabled:opacity-50 disabled:cursor-not-allowed","primary"===c&&"bg-gradient-purple hover:shadow-button-hover","secondary"===c&&"bg-gradient-blue hover:shadow-button-hover",s),disabled:o||n,...d,children:n?(0,a.jsxs)("span",{className:"flex items-center justify-center",children:[(0,a.jsx)(l.Z,{className:"w-5 h-5 animate-spin mr-2"}),"Loading..."]}):t})}},6264:function(e,t,s){"use strict";s.d(t,{x:function(){return l}});var a=s(8472),r=s(7776);let i=a.Z.create({baseURL:"http://localhost:8000",headers:{"Content-Type":"application/json"},timeout:3e4});i.interceptors.request.use(e=>{let t=localStorage.getItem("access_token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),i.interceptors.response.use(e=>e,async e=>{var t,s,l;let n=e.config;if((null===(t=e.response)||void 0===t?void 0:t.status)===401&&!n._retry){n._retry=!0;try{let e=localStorage.getItem("refresh_token"),{data:t}=await a.Z.post("".concat("http://localhost:8000","/api/v1/auth/refresh"),{refresh_token:e});return localStorage.setItem("access_token",t.access_token),i.defaults.headers.common.Authorization="Bearer ".concat(t.access_token),i(n)}catch(e){return localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.href="/login",Promise.reject(e)}}let c=(null===(l=e.response)||void 0===l?void 0:null===(s=l.data)||void 0===s?void 0:s.detail)||e.message||"An error occurred";return r.Am.error(c),Promise.reject(e)});let l={register:e=>i.post("/api/v1/users/register",e),login:e=>i.post("/api/v1/users/login",e),getProfile:()=>i.get("/api/v1/users/profile"),updateProfile:e=>i.put("/api/v1/users/profile",e),getCredits:()=>i.get("/api/v1/users/credits"),getConversations:()=>i.get("/api/v1/chat/conversations"),createConversation:()=>i.post("/api/v1/chat/conversations"),getMessages:e=>i.get("/api/v1/chat/conversations/".concat(e,"/messages")),sendMessage:(e,t)=>i.post("/api/v1/chat/conversations/".concat(e,"/messages"),t),getAlgorithms:()=>i.get("/api/v1/generation/algorithms"),createGeneration:e=>i.post("/api/v1/generation/create",e),getGenerationStatus:e=>i.get("/api/v1/generation/".concat(e,"/status")),getGenerationResult:e=>i.get("/api/v1/generation/".concat(e,"/result")),getHistory:e=>i.get("/api/v1/generations/user",{params:e}),uploadTemplate:e=>i.post("/api/v1/templates/upload",e,{headers:{"Content-Type":"multipart/form-data"}}),getTemplates:e=>i.get("/api/v1/templates",{params:e}),searchTemplates:e=>i.get("/api/v1/templates/search",{params:{query:e}}),deleteTemplate:e=>i.delete("/api/v1/templates/".concat(e)),updateTemplate:(e,t)=>i.put("/api/v1/templates/".concat(e),t),downloadGeneration:e=>i.get("/api/v1/generations/".concat(e,"/download"),{responseType:"blob"}),shareGeneration:(e,t)=>i.post("/api/v1/generations/".concat(e,"/share"),t),favoriteGeneration:e=>i.post("/api/v1/generations/".concat(e,"/favorite")),unfavoriteGeneration:e=>i.delete("/api/v1/generations/".concat(e,"/favorite")),deleteGeneration:e=>i.delete("/api/v1/generations/".concat(e)),getAdminStats:()=>i.get("/api/v1/admin/stats"),getUsers:e=>i.get("/api/v1/admin/users",{params:e}),updateUser:(e,t)=>i.put("/api/v1/admin/users/".concat(e),t),getAnalytics:e=>i.get("/api/v1/admin/analytics",{params:e}),getRecentActivity:()=>i.get("/api/v1/admin/activity")}},7440:function(e,t,s){"use strict";s.d(t,{cn:function(){return i}});var a=s(4839),r=s(6164);function i(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.m6)((0,a.W)(t))}}},function(e){e.O(0,[341,314,96,971,23,744],function(){return e(e.s=1112)}),_N_E=e.O()}]);