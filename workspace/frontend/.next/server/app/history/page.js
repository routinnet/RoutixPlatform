(()=>{var e={};e.id=811,e.ids=[811],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},8986:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>d,routeModule:()=>h,tree:()=>c}),s(926),s(1799),s(5866);var a=s(3191),r=s(8716),i=s(7922),l=s.n(i),n=s(5231),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(t,o);let c=["",{children:["history",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,926)),"/workspace/frontend/app/history/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,1799)),"/workspace/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/workspace/frontend/app/history/page.tsx"],x="/history/page",u={require:s,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/history/page",pathname:"/history",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},6658:(e,t,s)=>{Promise.resolve().then(s.bind(s,8894))},8365:(e,t,s)=>{Promise.resolve().then(s.bind(s,3107)),Promise.resolve().then(s.bind(s,9941))},3021:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},8894:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>U});var a=s(326),r=s(7577),i=s(6856),l=s(9941),n=s(9650),o=s(6462),c=s(8574),d=s(2714),x=s(1540),u=s(8021),h=s(6557);let p=(0,h.Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var m=s(8091),g=s(8998);let y=(0,h.Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),v=(0,h.Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),f=(0,h.Z)("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);var b=s(5999);function w({generation:e,onFavorite:t,onDownload:s,onShare:l,onRegenerate:o,onDelete:h,onPreview:w}){let[j,k]=(0,r.useState)(!1),[N,C]=(0,r.useState)(!1),Z=async()=>{try{await s(e.id),b.Am.success("Download started!")}catch(e){b.Am.error("Download failed. Please try again.")}},S=async()=>{try{await l(e.id),b.Am.success("Sharing options opened!")}catch(e){b.Am.error("Share failed. Please try again.")}},P=async()=>{try{await t(e.id),b.Am.success(e.is_favorite?"Removed from favorites":"Added to favorites")}catch(e){b.Am.error("Failed to update favorite status")}};return(0,a.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-5},onHoverStart:()=>C(!0),onHoverEnd:()=>C(!1),className:"group relative",children:[(0,a.jsxs)(n.W,{className:"p-4 overflow-hidden",children:[(0,a.jsxs)("div",{className:"relative aspect-video bg-white/10 rounded-xl mb-4 overflow-hidden",children:[e.thumbnail_url?(0,a.jsxs)(a.Fragment,{children:[a.jsx("img",{src:e.thumbnail_url,alt:e.prompt,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",loading:"lazy"}),(0,a.jsxs)(i.E.div,{initial:{opacity:0},animate:{opacity:N?1:0},className:"absolute inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center gap-2",children:[a.jsx(i.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>w(e),className:"p-3 rounded-full bg-white/20 backdrop-blur-xl text-white hover:bg-white/30 transition-colors",children:a.jsx(d.Z,{className:"w-5 h-5"})}),a.jsx(i.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:Z,className:"p-3 rounded-full bg-white/20 backdrop-blur-xl text-white hover:bg-white/30 transition-colors",children:a.jsx(x.Z,{className:"w-5 h-5"})}),a.jsx(i.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:S,className:"p-3 rounded-full bg-white/20 backdrop-blur-xl text-white hover:bg-white/30 transition-colors",children:a.jsx(u.Z,{className:"w-5 h-5"})})]})]}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"w-12 h-12 rounded-full bg-white/20 flex items-center justify-center mx-auto mb-2",children:["processing"===e.status&&a.jsx(p,{className:"w-6 h-6 text-text-muted animate-spin"}),"failed"===e.status&&a.jsx(m.Z,{className:"w-6 h-6 text-red-500"}),"queued"===e.status&&a.jsx(g.Z,{className:"w-6 h-6 text-blue-500"})]}),(0,a.jsxs)("p",{className:"text-sm text-text-muted",children:["processing"===e.status&&"Generating...","failed"===e.status&&"Generation Failed","queued"===e.status&&"In Queue"]})]})}),a.jsx("div",{className:"absolute top-3 left-3",children:a.jsx(c.O,{status:e.status})}),a.jsx(i.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:P,className:`absolute top-3 right-3 p-2 rounded-full backdrop-blur-xl transition-colors ${e.is_favorite?"bg-red-500/80 text-white":"bg-white/20 text-white hover:bg-white/30"}`,children:a.jsx(y,{className:`w-4 h-4 ${e.is_favorite?"fill-current":""}`})})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[a.jsx("div",{children:a.jsx("p",{className:"text-text-primary font-medium line-clamp-2 text-sm leading-relaxed",children:e.prompt})}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs text-text-muted",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx(v,{className:"w-3 h-3"}),a.jsx("span",{children:new Date(e.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),e.processing_time&&(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx(g.Z,{className:"w-3 h-3"}),(0,a.jsxs)("span",{children:[e.processing_time,"s"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs text-text-muted",children:[(0,a.jsxs)("span",{children:[e.download_count," downloads"]}),(0,a.jsxs)("span",{children:[e.share_count," shares"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(i.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:Z,disabled:"completed"!==e.status,className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded-xl bg-gradient-purple text-white disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-button-hover transition-all",children:[a.jsx(x.Z,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Download"})]}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(i.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>k(!j),className:"p-2 rounded-xl bg-white/20 hover:bg-white/30 transition-colors text-text-primary",children:a.jsx(f,{className:"w-4 h-4"})}),j&&a.jsx(i.E.div,{initial:{opacity:0,scale:.9,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:-10},className:"absolute right-0 top-full mt-2 w-48 z-50",children:(0,a.jsxs)(n.W,{className:"p-2",children:[(0,a.jsxs)("button",{onClick:()=>{S(),k(!1)},className:"w-full flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-white/20 transition-colors text-text-primary",children:[a.jsx(u.Z,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:"Share"})]}),(0,a.jsxs)("button",{onClick:()=>{o(e.id),k(!1)},disabled:"processing"===e.status,className:"w-full flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-white/20 transition-colors text-text-primary disabled:opacity-50",children:[a.jsx(p,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:"Regenerate"})]}),(0,a.jsxs)("button",{onClick:()=>{h(e.id),k(!1)},className:"w-full flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-red-500/20 transition-colors text-red-600",children:[a.jsx(m.Z,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:"Delete"})]})]})})]})]})]})]}),j&&a.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>k(!1)})]})}var j=s(6741),k=s(1709),N=s(5290),C=s(924),Z=s(9389);function S({generations:e,loading:t,hasMore:s,onLoadMore:l,onFavorite:c,onDownload:d,onShare:x,onRegenerate:u,onDelete:h,onPreview:p,viewMode:m="grid"}){let[g,y]=(0,r.useState)(new Set),[v,f]=(0,r.useState)(!1),b=(0,r.useRef)(null),S=e=>{let t=new Set(g);t.has(e)?t.delete(e):t.add(e),y(t)},P=()=>{y(new Set),f(!1)},A=async()=>{for(let t of e.filter(e=>g.has(e.id)))await d(t.id);P()},E=async()=>{if(confirm(`Delete ${g.size} selected items?`)){for(let e of Array.from(g))await h(e);P()}};return 0!==e.length||t?(0,a.jsxs)("div",{className:"space-y-6",children:[a.jsx(o.M,{children:v&&a.jsx(i.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:a.jsx(n.W,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("span",{className:"text-text-primary font-medium",children:[g.size," selected"]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>{y(new Set(e.map(e=>e.id)))},className:"px-3 py-1 text-sm rounded-lg bg-white/20 hover:bg-white/30 transition-colors text-text-primary",children:"Select All"}),a.jsx("button",{onClick:P,className:"px-3 py-1 text-sm rounded-lg bg-white/20 hover:bg-white/30 transition-colors text-text-primary",children:"Clear"})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx(j.O,{onClick:A,disabled:0===g.size,className:"px-4 py-2",children:"Download Selected"}),a.jsx("button",{onClick:E,disabled:0===g.size,className:"px-4 py-2 rounded-xl bg-red-500/20 hover:bg-red-500/30 transition-colors text-red-600 disabled:opacity-50",children:"Delete Selected"})]})]})})})}),a.jsx("div",{className:(()=>{switch(m){case"masonry":return"columns-1 md:columns-2 lg:columns-3 xl:columns-4 gap-6 space-y-6";case"list":return"space-y-4";default:return"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"}})(),children:a.jsx(o.M,{children:e.map((e,t)=>(0,a.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.8},transition:{delay:.05*t},className:`relative ${"masonry"===m?"break-inside-avoid mb-6":""}`,children:[v&&a.jsx("div",{className:"absolute inset-0 z-10 cursor-pointer",onClick:()=>S(e.id),children:a.jsx("div",{className:`
                    absolute inset-0 rounded-2xl border-2 transition-all
                    ${g.has(e.id)?"border-routix-purple bg-routix-purple/20":"border-transparent hover:border-routix-purple/50"}
                  `,children:g.has(e.id)&&a.jsx("div",{className:"absolute top-3 right-3 w-6 h-6 rounded-full bg-routix-purple flex items-center justify-center",children:a.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})})}),a.jsx(w,{generation:e,onFavorite:c,onDownload:d,onShare:x,onRegenerate:u,onDelete:h,onPreview:p})]},e.id))})}),t&&a.jsx("div",{className:"flex justify-center py-8",children:a.jsx(n.W,{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx(N.Z,{className:"w-5 h-5 animate-spin text-routix-purple"}),a.jsx("span",{className:"text-text-primary",children:"Loading more thumbnails..."})]})})}),s&&!t&&a.jsx("div",{ref:b,className:"flex justify-center py-8",children:a.jsx(j.O,{onClick:l,children:"Load More Thumbnails"})}),e.length>0&&a.jsx(i.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>f(!v),className:"fixed bottom-6 right-6 p-4 rounded-full bg-gradient-purple text-white shadow-button-hover z-50",children:v?a.jsx(C.Z,{className:"w-6 h-6"}):a.jsx(Z.Z,{className:"w-6 h-6"})})]}):a.jsx(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:(0,a.jsxs)(n.W,{className:"p-12 text-center",children:[a.jsx(k.Z,{className:"w-16 h-16 text-text-muted mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-text-primary mb-2",children:"No thumbnails yet"}),a.jsx("p",{className:"text-text-secondary mb-6",children:"Start creating amazing thumbnails with AI"}),a.jsx(j.O,{onClick:()=>window.location.href="/chat",className:"mx-auto",children:"Create Your First Thumbnail"})]})})}var P=s(4659),A=s(7888),E=s(8307),_=s(4019);let M=(0,h.Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);function $({searchQuery:e,onSearchChange:t,statusFilter:s,onStatusFilterChange:l,dateRange:o,onDateRangeChange:c,showFavorites:d,onShowFavoritesChange:x,viewMode:u,onViewModeChange:h,sortBy:p,onSortByChange:m,totalCount:v}){let[f,b]=(0,r.useState)(!1),w=[{value:"all",label:"All Status",icon:null},{value:"completed",label:"Completed",icon:P.Z,color:"text-green-500"},{value:"processing",label:"Processing",icon:g.Z,color:"text-blue-500"},{value:"queued",label:"Queued",icon:g.Z,color:"text-yellow-500"},{value:"failed",label:"Failed",icon:A.Z,color:"text-red-500"}],j=e||"all"!==s||o.start||o.end||d;return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)(n.W,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1 flex flex-col sm:flex-row gap-4 items-center w-full lg:w-auto",children:[(0,a.jsxs)("div",{className:"relative flex-1 max-w-md w-full",children:[a.jsx(E.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-text-muted"}),a.jsx("input",{type:"text",placeholder:"Search your thumbnails...",value:e,onChange:e=>t(e.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl glass border-0 focus:ring-2 focus:ring-routix-purple text-text-primary placeholder:text-text-muted bg-white/20 backdrop-blur-xl"}),e&&a.jsx("button",{onClick:()=>t(""),className:"absolute right-3 top-1/2 -translate-y-1/2 p-1 rounded-lg hover:bg-white/20 transition-colors",children:a.jsx(_.Z,{className:"w-4 h-4 text-text-muted"})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("select",{value:s,onChange:e=>l(e.target.value),className:"px-4 py-3 rounded-xl glass border-0 focus:ring-2 focus:ring-routix-purple text-text-primary bg-white/20 backdrop-blur-xl",children:w.map(e=>a.jsx("option",{value:e.value,children:e.label},e.value))}),a.jsx(i.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>x(!d),className:`p-3 rounded-xl transition-all ${d?"bg-red-500/20 text-red-600 border border-red-500/30":"bg-white/20 text-text-muted hover:text-text-primary"}`,children:a.jsx(y,{className:`w-5 h-5 ${d?"fill-current":""}`})}),a.jsx(i.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>b(!f),className:`p-3 rounded-xl transition-all ${f?"bg-routix-purple/20 text-routix-purple":"bg-white/20 text-text-muted hover:text-text-primary"}`,children:a.jsx(M,{className:"w-5 h-5"})})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("span",{className:"text-sm text-text-secondary whitespace-nowrap",children:[v.toLocaleString()," thumbnails"]}),a.jsx("select",{value:p,onChange:e=>m(e.target.value),className:"px-4 py-3 rounded-xl glass border-0 focus:ring-2 focus:ring-routix-purple text-text-primary bg-white/20 backdrop-blur-xl",children:[{value:"newest",label:"Newest First"},{value:"oldest",label:"Oldest First"},{value:"most_downloaded",label:"Most Downloaded"},{value:"most_shared",label:"Most Shared"},{value:"processing_time",label:"Fastest Generation"}].map(e=>a.jsx("option",{value:e.value,children:e.label},e.value))}),(0,a.jsxs)("div",{className:"flex items-center gap-1 p-1 rounded-xl bg-white/20",children:[a.jsx(i.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>h("grid"),className:`p-2 rounded-lg transition-colors ${"grid"===u?"bg-routix-purple text-white":"text-text-muted hover:text-text-primary"}`,children:a.jsx(C.Z,{className:"w-4 h-4"})}),a.jsx(i.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>h("masonry"),className:`p-2 rounded-lg transition-colors ${"masonry"===u?"bg-routix-purple text-white":"text-text-muted hover:text-text-primary"}`,children:a.jsx(C.Z,{className:"w-4 h-4"})}),a.jsx(i.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>h("list"),className:`p-2 rounded-lg transition-colors ${"list"===u?"bg-routix-purple text-white":"text-text-muted hover:text-text-primary"}`,children:a.jsx(Z.Z,{className:"w-4 h-4"})})]})]})]}),j&&a.jsx(i.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-4 pt-4 border-t border-white/20",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx("span",{className:"text-sm text-text-secondary",children:"Active filters:"}),e&&(0,a.jsxs)("span",{className:"px-3 py-1 text-sm rounded-lg bg-routix-purple/20 text-routix-purple flex items-center gap-2",children:['Search: "',e,'"',a.jsx("button",{onClick:()=>t(""),children:a.jsx(_.Z,{className:"w-3 h-3"})})]}),"all"!==s&&(0,a.jsxs)("span",{className:"px-3 py-1 text-sm rounded-lg bg-routix-purple/20 text-routix-purple flex items-center gap-2",children:["Status: ",w.find(e=>e.value===s)?.label,a.jsx("button",{onClick:()=>l("all"),children:a.jsx(_.Z,{className:"w-3 h-3"})})]}),d&&(0,a.jsxs)("span",{className:"px-3 py-1 text-sm rounded-lg bg-red-500/20 text-red-600 flex items-center gap-2",children:["Favorites only",a.jsx("button",{onClick:()=>x(!1),children:a.jsx(_.Z,{className:"w-3 h-3"})})]}),a.jsx("button",{onClick:()=>{t(""),l("all"),c({}),x(!1),m("newest")},className:"px-3 py-1 text-sm rounded-lg bg-white/20 hover:bg-white/30 transition-colors text-text-primary",children:"Clear all"})]})})]}),f&&a.jsx(i.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:a.jsx(n.W,{className:"p-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Date Range"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("input",{type:"date",value:o.start||"",onChange:e=>c({...o,start:e.target.value}),className:"flex-1 px-3 py-2 rounded-xl glass border-0 focus:ring-2 focus:ring-routix-purple text-text-primary bg-white/20 backdrop-blur-xl"}),a.jsx("span",{className:"text-text-muted self-center",children:"to"}),a.jsx("input",{type:"date",value:o.end||"",onChange:e=>c({...o,end:e.target.value}),className:"flex-1 px-3 py-2 rounded-xl glass border-0 focus:ring-2 focus:ring-routix-purple text-text-primary bg-white/20 backdrop-blur-xl"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Quick Filters"}),a.jsx("div",{className:"flex gap-2 flex-wrap",children:[{label:"Today",days:0},{label:"This Week",days:7},{label:"This Month",days:30},{label:"This Year",days:365}].map(({label:e,days:t})=>a.jsx("button",{onClick:()=>{let e=new Date().toISOString().split("T")[0];c({start:new Date(Date.now()-864e5*t).toISOString().split("T")[0],end:e})},className:"px-3 py-2 text-sm rounded-lg bg-white/20 hover:bg-white/30 transition-colors text-text-primary",children:e},e))})]})]})})})]})}let T=(0,h.Z)("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),R=(0,h.Z)("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),q=(0,h.Z)("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]),z=(0,h.Z)("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),F=(0,h.Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),L=(0,h.Z)("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);var I=s(2933);let H=(0,h.Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);function D({generation:e,isOpen:t,onClose:s,onDownload:l}){let[c,d]=(0,r.useState)(!1),[u,h]=(0,r.useState)("png");if(!e||!t)return null;let p=`${window.location.origin}/gallery/${e.id}`,m=`Check out this amazing thumbnail I created with Routix AI: "${e.prompt}"`,g=async()=>{try{await navigator.clipboard.writeText(p),d(!0),b.Am.success("Link copied to clipboard!"),setTimeout(()=>d(!1),2e3)}catch(e){b.Am.error("Failed to copy link")}},y=e=>{let t=encodeURIComponent(m),s=encodeURIComponent(p),a={twitter:`https://twitter.com/intent/tweet?text=${t}&url=${s}`,facebook:`https://www.facebook.com/sharer/sharer.php?u=${s}`,linkedin:`https://www.linkedin.com/sharing/share-offsite/?url=${s}`,instagram:"https://www.instagram.com/",email:`mailto:?subject=Amazing AI Thumbnail&body=${t}%0A%0A${s}`,whatsapp:`https://wa.me/?text=${t}%20${s}`};if("instagram"===e){b.Am.info("Instagram sharing: Save the image and share it manually on Instagram");return}window.open(a[e],"_blank","width=600,height=400")};return a.jsx(o.M,{children:t&&a.jsx(a.Fragment,{children:a.jsx(i.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:s,className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsx(i.E.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},onClick:e=>e.stopPropagation(),className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:(0,a.jsxs)(n.W,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-text-primary",children:"Share & Download"}),a.jsx("button",{onClick:s,className:"p-2 rounded-xl hover:bg-white/20 transition-colors text-text-muted hover:text-text-primary",children:a.jsx(_.Z,{className:"w-6 h-6"})})]}),(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("div",{className:"aspect-video bg-white/10 rounded-xl overflow-hidden mb-3",children:e.thumbnail_url&&a.jsx("img",{src:e.thumbnail_url,alt:e.prompt,className:"w-full h-full object-cover"})}),a.jsx("p",{className:"text-text-secondary text-sm line-clamp-2",children:e.prompt})]}),(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-3",children:"Share Link"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:p,readOnly:!0,className:"flex-1 px-4 py-3 rounded-xl glass border-0 focus:ring-2 focus:ring-routix-purple text-text-primary bg-white/20 backdrop-blur-xl"}),a.jsx(i.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:g,className:`px-4 py-3 rounded-xl transition-all flex items-center gap-2 ${c?"bg-green-500/20 text-green-600":"bg-white/20 hover:bg-white/30 text-text-primary"}`,children:c?(0,a.jsxs)(a.Fragment,{children:[a.jsx(I.Z,{className:"w-5 h-5"}),a.jsx("span",{className:"hidden sm:inline",children:"Copied!"})]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(H,{className:"w-5 h-5"}),a.jsx("span",{className:"hidden sm:inline",children:"Copy"})]})})]})]}),(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-3",children:"Share on Social Media"}),a.jsx("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-3",children:[{name:"Twitter",icon:T,color:"hover:bg-blue-500/20 hover:text-blue-500",key:"twitter"},{name:"Facebook",icon:R,color:"hover:bg-blue-600/20 hover:text-blue-600",key:"facebook"},{name:"LinkedIn",icon:q,color:"hover:bg-blue-700/20 hover:text-blue-700",key:"linkedin"},{name:"Instagram",icon:z,color:"hover:bg-pink-500/20 hover:text-pink-500",key:"instagram"},{name:"Email",icon:F,color:"hover:bg-gray-500/20 hover:text-gray-600",key:"email"},{name:"WhatsApp",icon:L,color:"hover:bg-green-500/20 hover:text-green-500",key:"whatsapp"}].map(e=>(0,a.jsxs)(i.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>y(e.key),className:`p-4 rounded-xl bg-white/20 transition-all text-text-primary ${e.color} flex flex-col items-center gap-2`,children:[a.jsx(e.icon,{className:"w-6 h-6"}),a.jsx("span",{className:"text-xs font-medium",children:e.name})]},e.key))})]}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-3",children:"Download Options"}),a.jsx("div",{className:"space-y-3 mb-4",children:[{value:"png",label:"PNG (Best Quality)",description:"Lossless, transparent background support"},{value:"jpg",label:"JPG (Smaller Size)",description:"Compressed, smaller file size"},{value:"webp",label:"WebP (Modern)",description:"Modern format, great compression"}].map(e=>(0,a.jsxs)(i.E.label,{whileHover:{scale:1.01},className:`flex items-center gap-4 p-4 rounded-xl cursor-pointer transition-all ${u===e.value?"bg-routix-purple/20 border border-routix-purple/30":"bg-white/10 hover:bg-white/20"}`,children:[a.jsx("input",{type:"radio",name:"format",value:e.value,checked:u===e.value,onChange:e=>h(e.target.value),className:"w-4 h-4 text-routix-purple"}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium text-text-primary",children:e.label}),a.jsx("div",{className:"text-sm text-text-secondary",children:e.description})]})]},e.value))}),(0,a.jsxs)(j.O,{onClick:()=>{l(e.id,u),b.Am.success(`Downloading ${u.toUpperCase()} format...`)},className:"w-full flex items-center justify-center gap-2",children:[a.jsx(x.Z,{className:"w-5 h-5"}),(0,a.jsxs)("span",{children:["Download ",u.toUpperCase()]})]})]})]})})})})})}var G=s(6824);let O=(0,h.Z)("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);var W=s(7069);function U(){let[e,t]=(0,r.useState)([]),[s,o]=(0,r.useState)(!0),[c,d]=(0,r.useState)(!0),[x,u]=(0,r.useState)(1),[h,p]=(0,r.useState)(""),[m,y]=(0,r.useState)("all"),[v,f]=(0,r.useState)({}),[w,j]=(0,r.useState)(!1),[k,N]=(0,r.useState)("grid"),[C,Z]=(0,r.useState)("newest"),[P,A]=(0,r.useState)(!1),[E,_]=(0,r.useState)(null),M=async(e=!1)=>{try{o(!0);let s={page:e?1:x,limit:20,search:h||void 0,status:"all"!==m?m:void 0,start_date:v.start||void 0,end_date:v.end||void 0,favorites_only:w||void 0,sort_by:C},a=(await G.x.getHistory(s)).data.generations||[];e?(t(a),u(2)):(t(e=>[...e,...a]),u(e=>e+1)),d(20===a.length)}catch(e){b.Am.error("Failed to fetch generation history")}finally{o(!1)}},T=async s=>{try{let a=e.find(e=>e.id===s);if(!a)return;a.is_favorite?await G.x.unfavoriteGeneration(s):await G.x.favoriteGeneration(s),t(e=>e.map(e=>e.id===s?{...e,is_favorite:!e.is_favorite}:e))}catch(e){b.Am.error("Failed to update favorite status")}},R=async(e,s="png")=>{try{let a=await G.x.downloadGeneration(e),r=new Blob([a.data]),i=window.URL.createObjectURL(r),l=document.createElement("a");l.href=i,l.download=`thumbnail-${e}.${s}`,document.body.appendChild(l),l.click(),document.body.removeChild(l),window.URL.revokeObjectURL(i),t(t=>t.map(t=>t.id===e?{...t,download_count:t.download_count+1}:t))}catch(e){b.Am.error("Download failed. Please try again.")}},q=async t=>{let s=e.find(e=>e.id===t);s&&(_(s),A(!0))},z=async t=>{try{let s=e.find(e=>e.id===t);if(!s)return;await G.x.createGeneration({prompt:s.prompt}),b.Am.success("Regeneration started! Check your chat for progress."),window.location.href="/chat"}catch(e){b.Am.error("Failed to start regeneration")}},F=async e=>{if(confirm("Are you sure you want to delete this thumbnail?"))try{await G.x.deleteGeneration(e),t(t=>t.filter(t=>t.id!==e)),b.Am.success("Thumbnail deleted successfully")}catch(e){b.Am.error("Failed to delete thumbnail")}},L={total:e.length,completed:e.filter(e=>"completed"===e.status).length,favorites:e.filter(e=>e.is_favorite).length,avgProcessingTime:e.filter(e=>e.processing_time).reduce((e,t)=>e+(t.processing_time||0),0)/e.filter(e=>e.processing_time).length||0};return a.jsx(l.i,{children:(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-main",children:[(0,a.jsxs)("div",{className:"fixed inset-0 -z-10 overflow-hidden pointer-events-none",children:[a.jsx(i.E.div,{className:"absolute w-96 h-96 bg-purple-300/20 rounded-full blur-3xl",animate:{x:[0,100,0],y:[0,-100,0]},transition:{duration:20,repeat:1/0},style:{top:"10%",left:"20%"}}),a.jsx(i.E.div,{className:"absolute w-96 h-96 bg-blue-300/20 rounded-full blur-3xl",animate:{x:[0,-100,0],y:[0,100,0]},transition:{duration:25,repeat:1/0},style:{bottom:"10%",right:"20%"}})]}),(0,a.jsxs)("div",{className:"container max-w-7xl mx-auto px-4 py-8",children:[(0,a.jsxs)(i.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-purple flex items-center justify-center",children:a.jsx(O,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-text-primary",children:"Your Gallery"}),a.jsx("p",{className:"text-text-secondary",children:"Manage and share your AI-generated thumbnails"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(n.W,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-500/20 flex items-center justify-center",children:a.jsx(O,{className:"w-5 h-5 text-blue-500"})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-text-primary",children:L.total}),a.jsx("p",{className:"text-sm text-text-secondary",children:"Total Created"})]})]})}),a.jsx(n.W,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-green-500/20 flex items-center justify-center",children:a.jsx(W.Z,{className:"w-5 h-5 text-green-500"})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-text-primary",children:L.completed}),a.jsx("p",{className:"text-sm text-text-secondary",children:"Completed"})]})]})}),a.jsx(n.W,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-red-500/20 flex items-center justify-center",children:a.jsx(O,{className:"w-5 h-5 text-red-500"})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-text-primary",children:L.favorites}),a.jsx("p",{className:"text-sm text-text-secondary",children:"Favorites"})]})]})}),a.jsx(n.W,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-purple-500/20 flex items-center justify-center",children:a.jsx(g.Z,{className:"w-5 h-5 text-purple-500"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-2xl font-bold text-text-primary",children:[L.avgProcessingTime.toFixed(1),"s"]}),a.jsx("p",{className:"text-sm text-text-secondary",children:"Avg Time"})]})]})})]})]}),a.jsx(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-8",children:a.jsx($,{searchQuery:h,onSearchChange:p,statusFilter:m,onStatusFilterChange:y,dateRange:v,onDateRangeChange:f,showFavorites:w,onShowFavoritesChange:j,viewMode:k,onViewModeChange:N,sortBy:C,onSortByChange:Z,totalCount:L.total})}),a.jsx(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:a.jsx(S,{generations:e,loading:s,hasMore:c,onLoadMore:()=>{!s&&c&&M(!1)},onFavorite:T,onDownload:R,onShare:q,onRegenerate:z,onDelete:F,onPreview:e=>{_(e),A(!0)},viewMode:k})})]}),a.jsx(D,{generation:E,isOpen:P,onClose:()=>{A(!1),_(null)},onDownload:R})]})})}},3107:(e,t,s)=>{"use strict";s.d(t,{Providers:()=>n});var a=s(326),r=s(4976);let i=new(s(830)).S({defaultOptions:{queries:{staleTime:6e4,refetchOnWindowFocus:!1,retry:1}}});var l=s(5999);function n({children:e}){return(0,a.jsxs)(r.aH,{client:i,children:[e,a.jsx(l.x7,{position:"top-right",richColors:!0})]})}},9650:(e,t,s)=>{"use strict";s.d(t,{W:()=>l});var a=s(326),r=s(7863),i=s(6856);function l({children:e,className:t,hover:s=!1,...l}){return a.jsx(i.E.div,{className:(0,r.cn)("glass rounded-3xl shadow-glass",s&&"hover:shadow-glass-hover hover:scale-[1.01] cursor-pointer",t),...l,children:e})}},6741:(e,t,s)=>{"use strict";s.d(t,{O:()=>n});var a=s(326),r=s(6856),i=s(7863),l=s(5290);function n({children:e,className:t,loading:s=!1,variant:n="primary",disabled:o,...c}){return a.jsx(r.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:(0,i.cn)("relative px-6 py-3 rounded-2xl font-semibold text-white","shadow-button transition-all duration-200","disabled:opacity-50 disabled:cursor-not-allowed","primary"===n&&"bg-gradient-purple hover:shadow-button-hover","secondary"===n&&"bg-gradient-blue hover:shadow-button-hover",t),disabled:o||s,...c,children:s?(0,a.jsxs)("span",{className:"flex items-center justify-center",children:[a.jsx(l.Z,{className:"w-5 h-5 animate-spin mr-2"}),"Loading..."]}):e})}},8574:(e,t,s)=>{"use strict";s.d(t,{O:()=>c});var a=s(326),r=s(6856),i=s(8998),l=s(5290),n=s(4659),o=s(7888);function c({status:e,className:t}){let s=(()=>{switch(e){case"queued":return{icon:i.Z,text:"Queued",bgColor:"bg-blue-500/20",textColor:"text-blue-600",borderColor:"border-blue-500/30"};case"processing":return{icon:l.Z,text:"Processing",bgColor:"bg-routix-purple/20",textColor:"text-routix-purple",borderColor:"border-routix-purple/30",animate:!0};case"completed":return{icon:n.Z,text:"Completed",bgColor:"bg-green-500/20",textColor:"text-green-600",borderColor:"border-green-500/30"};case"failed":return{icon:o.Z,text:"Failed",bgColor:"bg-red-500/20",textColor:"text-red-600",borderColor:"border-red-500/30"};default:return{icon:i.Z,text:"Unknown",bgColor:"bg-gray-500/20",textColor:"text-gray-600",borderColor:"border-gray-500/30"}}})(),c=s.icon;return(0,a.jsxs)(r.E.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:`
        inline-flex items-center gap-2 px-3 py-1.5 rounded-full border
        ${s.bgColor} ${s.textColor} ${s.borderColor}
        ${t}
      `,children:[a.jsx(c,{className:`w-4 h-4 ${s.animate?"animate-spin":""}`}),a.jsx("span",{className:"text-sm font-medium",children:s.text})]})}},6824:(e,t,s)=>{"use strict";s.d(t,{x:()=>l});var a=s(4464),r=s(5999);let i=a.Z.create({baseURL:"http://localhost:8000",headers:{"Content-Type":"application/json"},timeout:3e4});i.interceptors.request.use(e=>{let t=localStorage.getItem("access_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),i.interceptors.response.use(e=>e,async e=>{let t=e.config;if(e.response?.status===401&&!t._retry){t._retry=!0;try{let e=localStorage.getItem("refresh_token"),{data:s}=await a.Z.post("http://localhost:8000/api/v1/auth/refresh",{refresh_token:e});return localStorage.setItem("access_token",s.access_token),i.defaults.headers.common.Authorization=`Bearer ${s.access_token}`,i(t)}catch(e){return localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.href="/login",Promise.reject(e)}}let s=e.response?.data?.detail||e.message||"An error occurred";return r.Am.error(s),Promise.reject(e)});let l={register:e=>i.post("/api/v1/users/register",e),login:e=>i.post("/api/v1/users/login",e),getProfile:()=>i.get("/api/v1/users/profile"),updateProfile:e=>i.put("/api/v1/users/profile",e),getCredits:()=>i.get("/api/v1/users/credits"),getConversations:()=>i.get("/api/v1/chat/conversations"),createConversation:()=>i.post("/api/v1/chat/conversations"),getMessages:e=>i.get(`/api/v1/chat/conversations/${e}/messages`),sendMessage:(e,t)=>i.post(`/api/v1/chat/conversations/${e}/messages`,t),getAlgorithms:()=>i.get("/api/v1/generation/algorithms"),createGeneration:e=>i.post("/api/v1/generation/create",e),getGenerationStatus:e=>i.get(`/api/v1/generation/${e}/status`),getGenerationResult:e=>i.get(`/api/v1/generation/${e}/result`),getHistory:e=>i.get("/api/v1/generations/user",{params:e}),uploadTemplate:e=>i.post("/api/v1/templates/upload",e,{headers:{"Content-Type":"multipart/form-data"}}),getTemplates:e=>i.get("/api/v1/templates",{params:e}),searchTemplates:e=>i.get("/api/v1/templates/search",{params:{query:e}}),deleteTemplate:e=>i.delete(`/api/v1/templates/${e}`),updateTemplate:(e,t)=>i.put(`/api/v1/templates/${e}`,t),downloadGeneration:e=>i.get(`/api/v1/generations/${e}/download`,{responseType:"blob"}),shareGeneration:(e,t)=>i.post(`/api/v1/generations/${e}/share`,t),favoriteGeneration:e=>i.post(`/api/v1/generations/${e}/favorite`),unfavoriteGeneration:e=>i.delete(`/api/v1/generations/${e}/favorite`),deleteGeneration:e=>i.delete(`/api/v1/generations/${e}`),getAdminStats:()=>i.get("/api/v1/admin/stats"),getUsers:e=>i.get("/api/v1/admin/users",{params:e}),updateUser:(e,t)=>i.put(`/api/v1/admin/users/${e}`,t),getAnalytics:e=>i.get("/api/v1/admin/analytics",{params:e}),getRecentActivity:()=>i.get("/api/v1/admin/activity")}},9941:(e,t,s)=>{"use strict";s.d(t,{AuthProvider:()=>c,a:()=>d,i:()=>x});var a=s(326),r=s(7577),i=s(5047),l=s(6824),n=s(5999);let o=(0,r.createContext)(null);function c({children:e}){let[t,s]=(0,r.useState)(null),[c,d]=(0,r.useState)(!0),x=(0,i.useRouter)(),u=async(e,t)=>{try{let{data:s}=await l.x.login({username:e,password:t});localStorage.setItem("access_token",s.access_token),localStorage.setItem("refresh_token",s.refresh_token),await m(),n.Am.success("Welcome back!"),x.push("/chat")}catch(e){throw n.Am.error(e.response?.data?.detail||"Login failed"),e}},h=async e=>{try{await l.x.register(e),n.Am.success("Account created successfully! Please log in."),x.push("/login")}catch(e){throw n.Am.error(e.response?.data?.detail||"Registration failed"),e}},p=()=>{localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),s(null),x.push("/login"),n.Am.success("Logged out successfully")},m=async()=>{try{let{data:e}=await l.x.getProfile();s(e)}catch(e){p()}finally{d(!1)}};return a.jsx(o.Provider,{value:{user:t,loading:c,login:u,register:h,logout:p,refreshUser:m},children:e})}function d(){let e=(0,r.useContext)(o);if(!e)throw Error("useAuth must be used within AuthProvider");return e}function x({children:e}){let{user:t,loading:s}=d();return((0,i.useRouter)(),s)?a.jsx("div",{className:"min-h-screen bg-gradient-main flex items-center justify-center",children:a.jsx("div",{className:"w-16 h-16 rounded-3xl bg-white/80 backdrop-blur-xl shadow-lg flex items-center justify-center animate-pulse",children:a.jsx("div",{className:"w-8 h-8 bg-routix-purple/20 rounded-xl"})})}):t?a.jsx(a.Fragment,{children:e}):null}},7863:(e,t,s)=>{"use strict";s.d(t,{cn:()=>i});var a=s(1135),r=s(1009);function i(...e){return(0,r.m6)((0,a.W)(e))}},7888:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(6557).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},4659:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(6557).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},2933:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(6557).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},8998:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(6557).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},1540:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(6557).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},2714:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(6557).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},924:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(6557).Z)("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]])},1709:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(6557).Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},9389:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(6557).Z)("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]])},5290:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(6557).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},8307:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(6557).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},8021:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(6557).Z)("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]])},8091:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(6557).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},7069:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(6557).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},4019:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(6557).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},926:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>i,default:()=>n});var a=s(8570);let r=(0,a.createProxy)(String.raw`/workspace/frontend/app/history/page.tsx`),{__esModule:i,$$typeof:l}=r;r.default;let n=(0,a.createProxy)(String.raw`/workspace/frontend/app/history/page.tsx#default`)},1799:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g,metadata:()=>m});var a=s(9510),r=s(5384),i=s.n(r);s(7272);var l=s(8570);let n=(0,l.createProxy)(String.raw`/workspace/frontend/app/providers.tsx`),{__esModule:o,$$typeof:c}=n;n.default;let d=(0,l.createProxy)(String.raw`/workspace/frontend/app/providers.tsx#Providers`),x=(0,l.createProxy)(String.raw`/workspace/frontend/lib/auth.tsx`),{__esModule:u,$$typeof:h}=x;x.default;let p=(0,l.createProxy)(String.raw`/workspace/frontend/lib/auth.tsx#AuthProvider`);(0,l.createProxy)(String.raw`/workspace/frontend/lib/auth.tsx#useAuth`),(0,l.createProxy)(String.raw`/workspace/frontend/lib/auth.tsx#ProtectedRoute`);let m={title:"Routix - AI Thumbnail Generator",description:"Generate stunning YouTube thumbnails with AI"};function g({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{className:i().className,children:a.jsx(d,{children:a.jsx(p,{children:e})})})})}},7272:()=>{},6462:(e,t,s)=>{"use strict";s.d(t,{M:()=>g});var a=s(7577),r=s(2482);function i(){let e=(0,a.useRef)(!1);return(0,r.L)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var l=s(805),n=s(295),o=s(7977);class c extends a.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function d({children:e,isPresent:t}){let s=(0,a.useId)(),r=(0,a.useRef)(null),i=(0,a.useRef)({width:0,height:0,top:0,left:0});return(0,a.useInsertionEffect)(()=>{let{width:e,height:a,top:l,left:n}=i.current;if(t||!r.current||!e||!a)return;r.current.dataset.motionPopId=s;let o=document.createElement("style");return document.head.appendChild(o),o.sheet&&o.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${n}px !important;
          }
        `),()=>{document.head.removeChild(o)}},[t]),a.createElement(c,{isPresent:t,childRef:r,sizeRef:i},a.cloneElement(e,{ref:r}))}let x=({children:e,initial:t,isPresent:s,onExitComplete:r,custom:i,presenceAffectsLayout:l,mode:c})=>{let x=(0,o.h)(u),h=(0,a.useId)(),p=(0,a.useMemo)(()=>({id:h,initial:t,isPresent:s,custom:i,onExitComplete:e=>{for(let t of(x.set(e,!0),x.values()))if(!t)return;r&&r()},register:e=>(x.set(e,!1),()=>x.delete(e))}),l?void 0:[s]);return(0,a.useMemo)(()=>{x.forEach((e,t)=>x.set(t,!1))},[s]),a.useEffect(()=>{s||x.size||!r||r()},[s]),"popLayout"===c&&(e=a.createElement(d,{isPresent:s},e)),a.createElement(n.O.Provider,{value:p},e)};function u(){return new Map}var h=s(339),p=s(4673);let m=e=>e.key||"",g=({children:e,custom:t,initial:s=!0,onExitComplete:n,exitBeforeEnter:o,presenceAffectsLayout:c=!0,mode:d="sync"})=>{var u;(0,p.k)(!o,"Replace exitBeforeEnter with mode='wait'");let g=(0,a.useContext)(h.p).forceRender||function(){let e=i(),[t,s]=(0,a.useState)(0),r=(0,a.useCallback)(()=>{e.current&&s(t+1)},[t]);return[(0,a.useCallback)(()=>l.Wi.postRender(r),[r]),t]}()[0],y=i(),v=function(e){let t=[];return a.Children.forEach(e,e=>{(0,a.isValidElement)(e)&&t.push(e)}),t}(e),f=v,b=(0,a.useRef)(new Map).current,w=(0,a.useRef)(f),j=(0,a.useRef)(new Map).current,k=(0,a.useRef)(!0);if((0,r.L)(()=>{k.current=!1,function(e,t){e.forEach(e=>{let s=m(e);t.set(s,e)})}(v,j),w.current=f}),u=()=>{k.current=!0,j.clear(),b.clear()},(0,a.useEffect)(()=>()=>u(),[]),k.current)return a.createElement(a.Fragment,null,f.map(e=>a.createElement(x,{key:m(e),isPresent:!0,initial:!!s&&void 0,presenceAffectsLayout:c,mode:d},e)));f=[...f];let N=w.current.map(m),C=v.map(m),Z=N.length;for(let e=0;e<Z;e++){let t=N[e];-1!==C.indexOf(t)||b.has(t)||b.set(t,void 0)}return"wait"===d&&b.size&&(f=[]),b.forEach((e,s)=>{if(-1!==C.indexOf(s))return;let r=j.get(s);if(!r)return;let i=N.indexOf(s),l=e;l||(l=a.createElement(x,{key:m(r),isPresent:!1,onExitComplete:()=>{b.delete(s);let e=Array.from(j.keys()).filter(e=>!C.includes(e));if(e.forEach(e=>j.delete(e)),w.current=v.filter(t=>{let a=m(t);return a===s||e.includes(a)}),!b.size){if(!1===y.current)return;g(),n&&n()}},custom:t,presenceAffectsLayout:c,mode:d},r),b.set(s,l)),f.splice(i,0,l)}),f=f.map(e=>{let t=e.key;return b.has(t)?e:a.createElement(x,{key:m(e),isPresent:!0,presenceAffectsLayout:c,mode:d},e)}),a.createElement(a.Fragment,null,b.size?f:f.map(e=>(0,a.cloneElement)(e)))}}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[23,86],()=>s(8986));module.exports=a})();